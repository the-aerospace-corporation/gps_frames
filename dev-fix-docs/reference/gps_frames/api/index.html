
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Reference frames representations and transformations">
      
      
        <meta name="author" content="David William Allen">
      
      
        <link rel="canonical" href="https://the-aerospace-corporation.github.io/gps_frames/dev-fix-docs/reference/gps_frames/api/">
      
      
        <link rel="prev" href="../../..">
      
      
        <link rel="next" href="../basis/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>API Overview - GPS Frames</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#api-overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="GPS Frames" class="md-header__button md-logo" aria-label="GPS Frames" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            GPS Frames
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              API Overview
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/the-aerospace-corporation/gps_frames" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    gps_frames
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="GPS Frames" class="md-nav__button md-logo" aria-label="GPS Frames" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    GPS Frames
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/the-aerospace-corporation/gps_frames" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    gps_frames
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" checked>
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    gps_frames
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    gps_frames
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    API Overview
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    API Overview
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#gps_frames" class="md-nav__link">
    <span class="md-ellipsis">
      
        gps_frames
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="gps_frames">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gps_frames.check_earth_obscuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        check_earth_obscuration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.get_azimuth_elevation" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_azimuth_elevation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.get_east_north_up_basis" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_east_north_up_basis
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.get_range_azimuth_elevation" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_range_azimuth_elevation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.get_relative_angles" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_relative_angles
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../basis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Basis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parameters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Parameters
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../paths/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Paths
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../position/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Position
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rotations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Rotations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../transforms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Transforms
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vectors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Vectors
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../velocity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Velocity
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Examples
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../example_walkthrough/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ranging Walkthrough
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../case_study/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Satellite Tracking Case Study
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#gps_frames" class="md-nav__link">
    <span class="md-ellipsis">
      
        gps_frames
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="gps_frames">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gps_frames.check_earth_obscuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        check_earth_obscuration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.get_azimuth_elevation" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_azimuth_elevation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.get_east_north_up_basis" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_east_north_up_basis
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.get_range_azimuth_elevation" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_range_azimuth_elevation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.get_relative_angles" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_relative_angles
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="api-overview">API Overview</h1>


<div class="doc doc-object doc-module">



<h2 id="gps_frames" class="doc doc-heading">
            <code>gps_frames</code>


</h2>

    <div class="doc doc-contents first">



<details class="gps_frames" open>
  <summary>gps_frames</summary>
  <p>Reference frame representation, transformations, and operations for GPS.</p>
<p>This module provides tools for translating between different reference frames
used in GPS and astrodynamics, including WGS84 (LLA), ECEF, and ECI frames.
It handles time-dependent transformations (precession, nutation, polar motion,
Earth rotation) leveraging the <code>gps_time</code> library.</p>
<p>Key Features:
- Position objects aware of their frame and time.
- Automatic frame conversion (LLA &lt;-&gt; ECEF &lt;-&gt; ECI).
- Geometric calculations: Range, Azimuth, Elevation, Earth Obscuration.
- High-performance implementation using Numba.</p>
</details>

<details class="note" open>
  <summary>Notes</summary>
  <p>Like all internal modules, distances are stored here as meters and angles are
stored as radians.</p>
</details>









<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="gps_frames.check_earth_obscuration" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">check_earth_obscuration</span><span class="p">(</span><span class="n">position1</span><span class="p">,</span> <span class="n">position2</span><span class="p">,</span> <span class="n">convert_hae_altitude</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">earth_adjustment_m</span><span class="o">=</span><span class="mf">30000.0</span><span class="p">,</span> <span class="n">transition_altitude_m</span><span class="o">=-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="n">elevation_mask_angle_rad</span><span class="o">=-</span><span class="mf">0.1</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Determine if position2 is visiable from position1.</p>
<p>.. note:: Assumptions
    This function is meant to be a quick check of Earth obscuration. As
    such, it does not account for things like time delays, signal
    refraction, or a non-spherical Earth. All calculations are done under
    the assumptions of simultanity, geometric line-of-sight, and a
    spherical Earth. In fact, this includes the option to naively use the
    height above ellipsoid as the height above the spherical Earth.</p>
<p>This function is meant to determine if an object at position 2 has a
direct line of sight to the object at position 1. There are two ways that
this function checks to see if an object is visible.</p>
<p>First, it checks to see if the object at position 2 is above the limb of
the Earth. This means that the horizon object at position 2 is above the
horizon viewed from position 1. Let the position 1 be a distance <span class="arithmatex">\(r\)</span> from
the center of the Earth. For the purposes of determining the angle to the
horizon, let the adjusted radius of the Earth be
$$
    R_{\oplus}' = R_{\oplus} - \delta R
$$
where <span class="arithmatex">\(R_{\oplus}\)</span> is the actual radius of the Earth and <span class="arithmatex">\(\delta R\)</span>
is a correction factor for the radius. Thus the angle between the nadir
vector from position 1 to the limb is
$$
    \lambda = \sin^{-1} \left(\frac{R_{\oplus}'}{r}\right)
$$
Let the angle from the anti-nadir vector of position 1 to position 2 be
<span class="arithmatex">\(\psi\)</span>. Position 2 will be above the horizon if
$$
    \pi - \lambda \geq \psi
$$</p>
<p>The first method works well for determining if a satellite in view from a
terrestrial object, but is not useful for determining if a terrestrial
object is in view of a satellite. This is because if a terrestrial object
is between a satellite and the Earth, it will be definitionally below the
horizon, but obviously in view of the satellite. For this reason a second
test is implemented. An object at position 1 is defined to be in view of
an object at position 1 if the distance from position 1 to 2 is less than
the distance from position 1 to the horizon. This technically allows for a
significant amount of the interior of the Earth to be considered in view,
but would in practice only return objects in view because subterranian
objects are not feasible. Let <span class="arithmatex">\(d\)</span> be the distance from position 1 to
position 2. This second condition is
$$
    d &lt; r \cos\lambda
$$</p>
<p>This function also includes a sort of safety factor; it allows for the
radius of the Earth used for determining the horizon to be reduced. This
factor can be used to account for the non-sphereical Earth and timing
issues.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>position1</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Position


  
      dataclass
   (gps_frames.position.Position)" href="../position/#gps_frames.position.Position">Position</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The position of object 1</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>position2</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Position


  
      dataclass
   (gps_frames.position.Position)" href="../position/#gps_frames.position.Position">Position</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The position of object 2</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>convert_hae_altitude</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the position is in the LLA frame, then its altitude is in height
above ellispoid (HAE). If this is true, actual spherical altitude will
be calculated. However, it it is False, the HAE altitude will naively
be used as a spherical altitude, which is less accurate but will
provide a faster estimate and can be accounted for using the
earth_adjustment_m parameter, by default False</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>earth_adjustment_m</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Effectively reduces the radius of the Earth for the purposes of the
computing the obscuration. This distance (in meters) is subtracted
from the radius of the Earth when calculating idealized mask angles,
by default 100e3</p>
              </div>
            </td>
            <td>
                  <code>30000.0</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the position2 is visible from position1</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>gps_frames/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">check_earth_obscuration</span><span class="p">(</span>
    <span class="n">position1</span><span class="p">:</span> <span class="n">Position</span><span class="p">,</span>
    <span class="n">position2</span><span class="p">:</span> <span class="n">Position</span><span class="p">,</span>
    <span class="n">convert_hae_altitude</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">earth_adjustment_m</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">30e3</span><span class="p">,</span>
    <span class="n">transition_altitude_m</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span>
    <span class="n">elevation_mask_angle_rad</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.1</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Determine if position2 is visiable from position1.</span>

<span class="sd">    .. note:: Assumptions</span>
<span class="sd">        This function is meant to be a quick check of Earth obscuration. As</span>
<span class="sd">        such, it does not account for things like time delays, signal</span>
<span class="sd">        refraction, or a non-spherical Earth. All calculations are done under</span>
<span class="sd">        the assumptions of simultanity, geometric line-of-sight, and a</span>
<span class="sd">        spherical Earth. In fact, this includes the option to naively use the</span>
<span class="sd">        height above ellipsoid as the height above the spherical Earth.</span>

<span class="sd">    This function is meant to determine if an object at position 2 has a</span>
<span class="sd">    direct line of sight to the object at position 1. There are two ways that</span>
<span class="sd">    this function checks to see if an object is visible.</span>

<span class="sd">    First, it checks to see if the object at position 2 is above the limb of</span>
<span class="sd">    the Earth. This means that the horizon object at position 2 is above the</span>
<span class="sd">    horizon viewed from position 1. Let the position 1 be a distance \(r\) from</span>
<span class="sd">    the center of the Earth. For the purposes of determining the angle to the</span>
<span class="sd">    horizon, let the adjusted radius of the Earth be</span>
<span class="sd">    $$</span>
<span class="sd">        R_{\oplus}&#39; = R_{\oplus} - \delta R</span>
<span class="sd">    $$</span>
<span class="sd">    where \(R_{\oplus}\) is the actual radius of the Earth and \(\delta R\)</span>
<span class="sd">    is a correction factor for the radius. Thus the angle between the nadir</span>
<span class="sd">    vector from position 1 to the limb is</span>
<span class="sd">    $$</span>
<span class="sd">        \lambda = \sin^{-1} \left(\frac{R_{\oplus}&#39;}{r}\right)</span>
<span class="sd">    $$</span>
<span class="sd">    Let the angle from the anti-nadir vector of position 1 to position 2 be</span>
<span class="sd">    \(\psi\). Position 2 will be above the horizon if</span>
<span class="sd">    $$</span>
<span class="sd">        \pi - \lambda \geq \psi</span>
<span class="sd">    $$</span>

<span class="sd">    The first method works well for determining if a satellite in view from a</span>
<span class="sd">    terrestrial object, but is not useful for determining if a terrestrial</span>
<span class="sd">    object is in view of a satellite. This is because if a terrestrial object</span>
<span class="sd">    is between a satellite and the Earth, it will be definitionally below the</span>
<span class="sd">    horizon, but obviously in view of the satellite. For this reason a second</span>
<span class="sd">    test is implemented. An object at position 1 is defined to be in view of</span>
<span class="sd">    an object at position 1 if the distance from position 1 to 2 is less than</span>
<span class="sd">    the distance from position 1 to the horizon. This technically allows for a</span>
<span class="sd">    significant amount of the interior of the Earth to be considered in view,</span>
<span class="sd">    but would in practice only return objects in view because subterranian</span>
<span class="sd">    objects are not feasible. Let \(d\) be the distance from position 1 to</span>
<span class="sd">    position 2. This second condition is</span>
<span class="sd">    $$</span>
<span class="sd">        d &lt; r \cos\lambda</span>
<span class="sd">    $$</span>

<span class="sd">    This function also includes a sort of safety factor; it allows for the</span>
<span class="sd">    radius of the Earth used for determining the horizon to be reduced. This</span>
<span class="sd">    factor can be used to account for the non-sphereical Earth and timing</span>
<span class="sd">    issues.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    position1 : Position</span>
<span class="sd">        The position of object 1</span>
<span class="sd">    position2 : Position</span>
<span class="sd">        The position of object 2</span>
<span class="sd">    convert_hae_altitude : bool, optional</span>
<span class="sd">        If the position is in the LLA frame, then its altitude is in height</span>
<span class="sd">        above ellispoid (HAE). If this is true, actual spherical altitude will</span>
<span class="sd">        be calculated. However, it it is False, the HAE altitude will naively</span>
<span class="sd">        be used as a spherical altitude, which is less accurate but will</span>
<span class="sd">        provide a faster estimate and can be accounted for using the</span>
<span class="sd">        earth_adjustment_m parameter, by default False</span>
<span class="sd">    earth_adjustment_m : float, optional</span>
<span class="sd">        Effectively reduces the radius of the Earth for the purposes of the</span>
<span class="sd">        computing the obscuration. This distance (in meters) is subtracted</span>
<span class="sd">        from the radius of the Earth when calculating idealized mask angles,</span>
<span class="sd">        by default 100e3</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    bool</span>
<span class="sd">        True if the position2 is visible from position1</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">earth_adjustment_m</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Earth Obscuration: Earth Radius Adjustment is negative, which &quot;</span>
            <span class="s2">&quot;makes Earth larger.&quot;</span>
        <span class="p">)</span>

    <span class="n">elevation_mask_angle_rad</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">180</span>

    <span class="n">position1_radius</span> <span class="o">=</span> <span class="n">position1</span><span class="o">.</span><span class="n">get_radius</span><span class="p">()</span>
    <span class="n">position2_radius</span> <span class="o">=</span> <span class="n">position2</span><span class="o">.</span><span class="n">get_radius</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">position1_radius</span> <span class="o">&lt;</span> <span class="n">position2_radius</span><span class="p">:</span>
        <span class="n">lower_position</span> <span class="o">=</span> <span class="n">position1</span>
        <span class="n">lower_radius</span> <span class="o">=</span> <span class="n">position1_radius</span>
        <span class="n">lower_altitude</span> <span class="o">=</span> <span class="n">position1</span><span class="o">.</span><span class="n">get_altitude_hae</span><span class="p">()</span>

        <span class="n">upper_position</span> <span class="o">=</span> <span class="n">position2</span>
        <span class="c1"># upper_radius = position2_radius</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">upper_position</span> <span class="o">=</span> <span class="n">position1</span>
        <span class="c1"># upper_radius = position1_radius</span>

        <span class="n">lower_position</span> <span class="o">=</span> <span class="n">position2</span>
        <span class="n">lower_radius</span> <span class="o">=</span> <span class="n">position2_radius</span>
        <span class="n">lower_altitude</span> <span class="o">=</span> <span class="n">position2</span><span class="o">.</span><span class="n">get_altitude_hae</span><span class="p">()</span>

    <span class="n">lower_enu_basis</span> <span class="o">=</span> <span class="n">get_east_north_up_basis</span><span class="p">(</span><span class="n">lower_position</span><span class="p">)</span>
    <span class="n">_distance</span><span class="p">,</span> <span class="n">_azimuth</span><span class="p">,</span> <span class="n">_elevation</span> <span class="o">=</span> <span class="n">get_range_azimuth_elevation</span><span class="p">(</span>
        <span class="n">lower_enu_basis</span><span class="p">,</span> <span class="n">upper_position</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">transition_altitude_m</span> <span class="o">&gt;</span> <span class="n">lower_altitude</span><span class="p">:</span>
        <span class="n">min_elevation</span> <span class="o">=</span> <span class="n">elevation_mask_angle_rad</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">adjusted_earth_radius</span> <span class="o">=</span> <span class="n">EarthParam</span><span class="o">.</span><span class="n">r_e</span> <span class="o">-</span> <span class="n">earth_adjustment_m</span>
        <span class="n">sin_limb_angle</span> <span class="o">=</span> <span class="n">adjusted_earth_radius</span> <span class="o">/</span> <span class="n">lower_radius</span>
        <span class="n">limb_angle</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arcsin</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">sin_limb_angle</span><span class="p">]))</span>
        <span class="n">min_elevation</span> <span class="o">=</span> <span class="n">limb_angle</span> <span class="o">-</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">elevation_mask_angle_rad</span>

    <span class="n">in_view</span> <span class="o">=</span> <span class="n">_elevation</span> <span class="o">&gt;=</span> <span class="n">min_elevation</span>

    <span class="k">return</span> <span class="n">in_view</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="gps_frames.get_azimuth_elevation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_azimuth_elevation</span><span class="p">(</span><span class="n">enu_basis</span><span class="p">,</span> <span class="n">target_position</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the azimuth and elevation of a target relative to a basis.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>enu_basis</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Basis (gps_frames.basis.Basis)" href="../basis/#gps_frames.basis.Basis">Basis</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The East-North-Up basis</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target_position</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Position


  
      dataclass
   (gps_frames.position.Position)" href="../position/#gps_frames.position.Position">Position</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The position of the target</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Tuple">Tuple</span>[<span title="float">float</span>, <span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The (1) azimuth and (2) elevation of the target relative to ENU
basis provided.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>gps_frames/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_azimuth_elevation</span><span class="p">(</span>
    <span class="n">enu_basis</span><span class="p">:</span> <span class="n">Basis</span><span class="p">,</span> <span class="n">target_position</span><span class="p">:</span> <span class="n">Position</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the azimuth and elevation of a target relative to a basis.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    enu_basis : Basis</span>
<span class="sd">        The East-North-Up basis</span>
<span class="sd">    target_position : Position</span>
<span class="sd">        The position of the target</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Tuple[float, float]</span>
<span class="sd">        The (1) azimuth and (2) elevation of the target relative to ENU</span>
<span class="sd">        basis provided.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">azimuth</span><span class="p">,</span> <span class="n">elevation</span> <span class="o">=</span> <span class="n">get_range_azimuth_elevation</span><span class="p">(</span><span class="n">enu_basis</span><span class="p">,</span> <span class="n">target_position</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">azimuth</span><span class="p">,</span> <span class="n">elevation</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="gps_frames.get_east_north_up_basis" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_east_north_up_basis</span><span class="p">(</span><span class="n">position</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the East-North-Up Basis for the input position.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>position</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Position


  
      dataclass
   (gps_frames.position.Position)" href="../position/#gps_frames.position.Position">Position</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The position of interest</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="Basis (gps_frames.basis.Basis)" href="../basis/#gps_frames.basis.Basis">Basis</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The basis representing the East-North-Up frame</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>gps_frames/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_east_north_up_basis</span><span class="p">(</span><span class="n">position</span><span class="p">:</span> <span class="n">Position</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Basis</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the East-North-Up Basis for the input position.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    position : Position</span>
<span class="sd">        The position of interest</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Basis</span>
<span class="sd">        The basis representing the East-North-Up frame</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lla_pos</span> <span class="o">=</span> <span class="n">position</span><span class="o">.</span><span class="n">get_position</span><span class="p">(</span><span class="s2">&quot;LLA&quot;</span><span class="p">)</span>
    <span class="n">lla</span> <span class="o">=</span> <span class="n">lla_pos</span><span class="o">.</span><span class="n">coordinates</span>
    <span class="n">upx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">lla</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">lla</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">upy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">lla</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">lla</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">upz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">lla</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="n">updirection</span> <span class="o">=</span> <span class="n">UnitVector</span><span class="p">(</span>
        <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">upx</span><span class="p">,</span> <span class="n">upy</span><span class="p">,</span> <span class="n">upz</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">),</span> <span class="n">position</span><span class="o">.</span><span class="n">frame_time</span><span class="p">,</span> <span class="s2">&quot;ECEF&quot;</span>
    <span class="p">)</span>

    <span class="n">localeast_coords</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
        <span class="p">[</span><span class="o">-</span><span class="n">updirection</span><span class="o">.</span><span class="n">coordinates</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">updirection</span><span class="o">.</span><span class="n">coordinates</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span>
    <span class="p">)</span>
    <span class="n">localeast</span> <span class="o">=</span> <span class="n">UnitVector</span><span class="p">(</span><span class="n">localeast_coords</span><span class="p">,</span> <span class="n">lla_pos</span><span class="o">.</span><span class="n">frame_time</span><span class="p">,</span> <span class="s2">&quot;ECEF&quot;</span><span class="p">)</span>

    <span class="c1"># Local North is the cross between the up and east directions, i.e.</span>
    <span class="c1"># north = up cross east</span>
    <span class="n">localnorth</span> <span class="o">=</span> <span class="n">UnitVector</span><span class="o">.</span><span class="n">from_vector</span><span class="p">(</span><span class="n">updirection</span><span class="o">.</span><span class="n">cross_product</span><span class="p">(</span><span class="n">localeast</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">Basis</span><span class="p">(</span><span class="n">position</span><span class="o">.</span><span class="n">get_position</span><span class="p">(</span><span class="s2">&quot;ECEF&quot;</span><span class="p">),</span> <span class="n">localeast</span><span class="p">,</span> <span class="n">localnorth</span><span class="p">,</span> <span class="n">updirection</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="gps_frames.get_range_azimuth_elevation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_range_azimuth_elevation</span><span class="p">(</span><span class="n">enu_basis</span><span class="p">,</span> <span class="n">target_position</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the azimuth and elevation of a target relative to a basis.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>enu_basis</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Basis (gps_frames.basis.Basis)" href="../basis/#gps_frames.basis.Basis">Basis</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The East-North-Up basis</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target_position</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Position


  
      dataclass
   (gps_frames.position.Position)" href="../position/#gps_frames.position.Position">Position</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The position of the target</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Tuple">Tuple</span>[<span title="float">float</span>, <span title="float">float</span>, <span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The (1) range, (2) azimuth, and (3) elevation of the target relative
to ENU basis provided.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>gps_frames/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_range_azimuth_elevation</span><span class="p">(</span>
    <span class="n">enu_basis</span><span class="p">:</span> <span class="n">Basis</span><span class="p">,</span> <span class="n">target_position</span><span class="p">:</span> <span class="n">Position</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the azimuth and elevation of a target relative to a basis.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    enu_basis : Basis</span>
<span class="sd">        The East-North-Up basis</span>
<span class="sd">    target_position : Position</span>
<span class="sd">        The position of the target</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Tuple[float, float, float]</span>
<span class="sd">        The (1) range, (2) azimuth, and (3) elevation of the target relative</span>
<span class="sd">        to ENU basis provided.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rp</span> <span class="o">=</span> <span class="n">coordinates_in_basis</span><span class="p">(</span><span class="n">target_position</span><span class="p">,</span> <span class="n">enu_basis</span><span class="p">)</span>
    <span class="n">range_</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">rp</span><span class="p">)</span>

    <span class="n">elevation</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">arccos</span><span class="p">(</span><span class="n">rp</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="n">range_</span><span class="p">)</span>
    <span class="n">azimuth</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">rp</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">rp</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">range_</span><span class="p">,</span> <span class="n">azimuth</span><span class="p">,</span> <span class="n">elevation</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="gps_frames.get_relative_angles" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_relative_angles</span><span class="p">(</span><span class="n">basis</span><span class="p">,</span> <span class="n">target_position</span><span class="p">,</span> <span class="n">look_axis</span><span class="p">,</span> <span class="n">reference_axis</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the angles from a basis to an object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>basis</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Basis (gps_frames.basis.Basis)" href="../basis/#gps_frames.basis.Basis">Basis</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The basis to measure angles relative to</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target_position</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Position


  
      dataclass
   (gps_frames.position.Position)" href="../position/#gps_frames.position.Position">Position</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The position of the target</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>look_axis</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The axis that represents the look direction of the basis (i.e. the
boresight)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>reference_axis</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The axis to measure the angle around the bore relative to (right-hand
positive about the look_axis)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Tuple">Tuple</span>[<span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The angle off of the look_axis and the angle about the look_axis, rad</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the look_axis and reference_axis have the same value or if they are
not 1, 2, or 3</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>gps_frames/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_relative_angles</span><span class="p">(</span>
    <span class="n">basis</span><span class="p">:</span> <span class="n">Basis</span><span class="p">,</span> <span class="n">target_position</span><span class="p">:</span> <span class="n">Position</span><span class="p">,</span> <span class="n">look_axis</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">reference_axis</span><span class="p">:</span> <span class="nb">int</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the angles from a basis to an object.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    basis : Basis</span>
<span class="sd">        The basis to measure angles relative to</span>
<span class="sd">    target_position : Position</span>
<span class="sd">        The position of the target</span>
<span class="sd">    look_axis : int</span>
<span class="sd">        The axis that represents the look direction of the basis (i.e. the</span>
<span class="sd">        boresight)</span>
<span class="sd">    reference_axis : int</span>
<span class="sd">        The axis to measure the angle around the bore relative to (right-hand</span>
<span class="sd">        positive about the look_axis)</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Tuple[float]</span>
<span class="sd">        The angle off of the look_axis and the angle about the look_axis, rad</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    ValueError</span>
<span class="sd">        If the look_axis and reference_axis have the same value or if they are</span>
<span class="sd">        not 1, 2, or 3</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">look_axis</span> <span class="o">==</span> <span class="n">reference_axis</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;look_axis and reference_axis must be different&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">look_axis</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;look_axis must be 1, 2, or 3&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">reference_axis</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;reference_axis must be 1, 2, or 3&quot;</span><span class="p">)</span>

    <span class="c1"># Get the position relative to the basis</span>
    <span class="n">rp</span> <span class="o">=</span> <span class="n">coordinates_in_basis</span><span class="p">(</span><span class="n">target_position</span><span class="p">,</span> <span class="n">basis</span><span class="p">)</span>

    <span class="c1"># Assign the components along the basis to the internal variables</span>
    <span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">axis</span> <span class="o">==</span> <span class="n">look_axis</span><span class="p">:</span>
            <span class="n">look_component</span> <span class="o">=</span> <span class="n">rp</span><span class="p">[</span><span class="n">axis</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">axis</span> <span class="o">==</span> <span class="n">reference_axis</span><span class="p">:</span>
            <span class="n">reference_component</span> <span class="o">=</span> <span class="n">rp</span><span class="p">[</span><span class="n">axis</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">other_componet</span> <span class="o">=</span> <span class="n">rp</span><span class="p">[</span><span class="n">axis</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>

    <span class="c1"># Compute the angle off of the boresight (look_axis)</span>
    <span class="n">off_bore_component</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">reference_component</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">other_componet</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">angle_off_bore</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">off_bore_component</span><span class="p">,</span> <span class="n">look_component</span><span class="p">)</span>

    <span class="c1"># Determine if the reference_axis is next in the cyclic order after the</span>
    <span class="c1"># look_axis</span>
    <span class="n">_cyclic_order</span> <span class="o">=</span> <span class="n">reference_axis</span> <span class="o">==</span> <span class="p">(</span><span class="n">look_axis</span> <span class="o">%</span> <span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>

    <span class="c1"># If the order is cyclic, simply compute the angle directly, If not, flip</span>
    <span class="c1"># the value of the other axis and compute the angle about the boresight</span>
    <span class="c1"># relative to the reference axis</span>
    <span class="k">if</span> <span class="n">_cyclic_order</span><span class="p">:</span>
        <span class="n">angle_from_ref</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">other_componet</span><span class="p">,</span> <span class="n">reference_component</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">angle_from_ref</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="o">-</span><span class="n">other_componet</span><span class="p">,</span> <span class="n">reference_component</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">angle_off_bore</span><span class="p">,</span> <span class="n">angle_from_ref</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.sections", "navigation.indexes"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>