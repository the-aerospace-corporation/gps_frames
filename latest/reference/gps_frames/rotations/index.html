
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Reference frames representations and transformations">
      
      
        <meta name="author" content="David William Allen">
      
      
        <link rel="canonical" href="https://the-aerospace-corporation.github.io/gps_frames/latest/reference/gps_frames/rotations/">
      
      
        <link rel="prev" href="../position/">
      
      
        <link rel="next" href="../transforms/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Rotations - GPS Frames</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#rotations" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="GPS Frames" class="md-header__button md-logo" aria-label="GPS Frames" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            GPS Frames
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Rotations
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/the-aerospace-corporation/gps_frames" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    gps_frames
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="GPS Frames" class="md-nav__button md-logo" aria-label="GPS Frames" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    GPS Frames
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/the-aerospace-corporation/gps_frames" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    gps_frames
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" checked>
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    gps_frames
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    gps_frames
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../basis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Basis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parameters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Parameters
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../paths/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Paths
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../position/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Position
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Rotations
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Rotations
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#gps_frames.rotations" class="md-nav__link">
    <span class="md-ellipsis">
      
        rotations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="rotations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gps_frames.rotations.Rotation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Rotation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Rotation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gps_frames.rotations.Rotation.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.rotations.Rotation.rotate" class="md-nav__link">
    <span class="md-ellipsis">
      
        rotate
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.rotations.direction_cosine_matrix2euler_axis_angle" class="md-nav__link">
    <span class="md-ellipsis">
      
        direction_cosine_matrix2euler_axis_angle
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.rotations.direction_cosine_matrix2quaternion" class="md-nav__link">
    <span class="md-ellipsis">
      
        direction_cosine_matrix2quaternion
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.rotations.euler_axis_angle2direction_cosine_matrix" class="md-nav__link">
    <span class="md-ellipsis">
      
        euler_axis_angle2direction_cosine_matrix
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.rotations.euler_axis_angle2quaternion" class="md-nav__link">
    <span class="md-ellipsis">
      
        euler_axis_angle2quaternion
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.rotations.quaternion2direction_cosine_matrix" class="md-nav__link">
    <span class="md-ellipsis">
      
        quaternion2direction_cosine_matrix
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.rotations.quaternion2euler_axis_angle" class="md-nav__link">
    <span class="md-ellipsis">
      
        quaternion2euler_axis_angle
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.rotations.roll_pitch_yaw" class="md-nav__link">
    <span class="md-ellipsis">
      
        roll_pitch_yaw
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.rotations.roll_pitch_yaw_matrix" class="md-nav__link">
    <span class="md-ellipsis">
      
        roll_pitch_yaw_matrix
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.rotations.standard_rotation" class="md-nav__link">
    <span class="md-ellipsis">
      
        standard_rotation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.rotations.standard_rotation_matrix" class="md-nav__link">
    <span class="md-ellipsis">
      
        standard_rotation_matrix
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.rotations.standard_rotation_matrix_rates" class="md-nav__link">
    <span class="md-ellipsis">
      
        standard_rotation_matrix_rates
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../transforms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Transforms
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vectors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Vectors
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../velocity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Velocity
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Examples
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../example_walkthrough/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ranging Walkthrough
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../case_study/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Satellite Tracking Case Study
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#gps_frames.rotations" class="md-nav__link">
    <span class="md-ellipsis">
      
        rotations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="rotations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gps_frames.rotations.Rotation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Rotation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Rotation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gps_frames.rotations.Rotation.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.rotations.Rotation.rotate" class="md-nav__link">
    <span class="md-ellipsis">
      
        rotate
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.rotations.direction_cosine_matrix2euler_axis_angle" class="md-nav__link">
    <span class="md-ellipsis">
      
        direction_cosine_matrix2euler_axis_angle
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.rotations.direction_cosine_matrix2quaternion" class="md-nav__link">
    <span class="md-ellipsis">
      
        direction_cosine_matrix2quaternion
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.rotations.euler_axis_angle2direction_cosine_matrix" class="md-nav__link">
    <span class="md-ellipsis">
      
        euler_axis_angle2direction_cosine_matrix
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.rotations.euler_axis_angle2quaternion" class="md-nav__link">
    <span class="md-ellipsis">
      
        euler_axis_angle2quaternion
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.rotations.quaternion2direction_cosine_matrix" class="md-nav__link">
    <span class="md-ellipsis">
      
        quaternion2direction_cosine_matrix
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.rotations.quaternion2euler_axis_angle" class="md-nav__link">
    <span class="md-ellipsis">
      
        quaternion2euler_axis_angle
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.rotations.roll_pitch_yaw" class="md-nav__link">
    <span class="md-ellipsis">
      
        roll_pitch_yaw
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.rotations.roll_pitch_yaw_matrix" class="md-nav__link">
    <span class="md-ellipsis">
      
        roll_pitch_yaw_matrix
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.rotations.standard_rotation" class="md-nav__link">
    <span class="md-ellipsis">
      
        standard_rotation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.rotations.standard_rotation_matrix" class="md-nav__link">
    <span class="md-ellipsis">
      
        standard_rotation_matrix
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gps_frames.rotations.standard_rotation_matrix_rates" class="md-nav__link">
    <span class="md-ellipsis">
      
        standard_rotation_matrix_rates
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="rotations">Rotations</h1>


<div class="doc doc-object doc-module">



<h2 id="gps_frames.rotations" class="doc doc-heading">
            <code>gps_frames.rotations</code>


</h2>

    <div class="doc doc-contents first">

        <p>Representation for Rotations.</p>
<p>The purpose of this submodule is to provide representations for rotations.
This is meant to be a low-level library that uses
<a href="http://numba.pydata.org/">Numba</a> compilation to speed up execution. As such,
much of the code in this submodule should be considered strictly-typed.</p>
<p>The main externally used componentes are the Rotation class, which is a
non-Numba class that serves as a wrapper to Numba JIT compiled functions, and
the standard_rotation() function, which is a Numba JIT compiled function that
provides a means for rotating a vector around a principal axis.</p>










<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h3 id="gps_frames.rotations.Rotation" class="doc doc-heading">
            <code>Rotation</code>


</h3>


    <div class="doc doc-contents ">



        <p>Represention of rotations.</p>
<p>This class is used to represent a rotation. The rotation is internally
represented by a _Rotator object, which is a Numba optimized class that is
used to handle the actual rotations.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="gps_frames.rotations.Rotation._rotator">_rotator</span></code></td>
            <td>
                  <code><span title="gps_frames.rotations._Rotator">_Rotator</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A numba optimized class used to describe rotations.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="todo" open>
  <summary>Todo</summary>
  <p>Consider adding to_yaml() and from_yaml() methods to enable storing as a
YAML object.</p>
</details>







              <details class="mkdocstrings-source">
                <summary>Source code in <code>gps_frames/rotations.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Rotation</span><span class="p">:</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Represention of rotations.</span>

<span class="sd">    This class is used to represent a rotation. The rotation is internally</span>
<span class="sd">    represented by a _Rotator object, which is a Numba optimized class that is</span>
<span class="sd">    used to handle the actual rotations.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    _rotator : _Rotator</span>
<span class="sd">        A numba optimized class used to describe rotations.</span>

<span class="sd">    Todo</span>
<span class="sd">    ----</span>
<span class="sd">    Consider adding to_yaml() and from_yaml() methods to enable storing as a</span>
<span class="sd">    YAML object.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_rotator</span><span class="p">:</span> <span class="n">_Rotator</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Construct a Rotation Object</span>

<span class="sd">        !!! note &quot;Types&quot;</span>
<span class="sd">            Because this acts as an interface to a numba object (which is</span>
<span class="sd">            strictly typed), it is recommended that all inputs contain only</span>
<span class="sd">            floats. This should be corrected automatically, but success cannot</span>
<span class="sd">            be guarenteed.</span>

<span class="sd">        This constructor is able to take a various numbers of input arguments</span>
<span class="sd">        to create a _Rotator object. These can either be positional or keyword</span>
<span class="sd">        arguments. It is recommended to use the keyword arguments to avoid</span>
<span class="sd">        ambiguity.</span>

<span class="sd">        !!! warning &quot;Duplicate Definitions&quot;</span>
<span class="sd">            There can only be one definition of the rotation. If multiple</span>
<span class="sd">            definitions are given, it will raise an error. This includes</span>
<span class="sd">            having both positional and keyword arguments.</span>

<span class="sd">        This constructor functions by taking the input arguments and</span>
<span class="sd">        converting the rotation representation to a direction cosine matrix,</span>
<span class="sd">        which is then used to instantiate a _Rotator object.</span>

<span class="sd">        !!! tip &quot;Quaternion Ordering&quot;</span>
<span class="sd">            The order of the unit quaternion inputs are (\(q_{w}\), \(q_{i}\),</span>
<span class="sd">            \(q_{j}\), \(q_{k}\)) where</span>

<span class="sd">            \(\mathbf{q} = q_{w} + q_{i}i + q_{j}j + q_{k}k\).</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        *args</span>
<span class="sd">            If one positional argument is provided, it is assumed to be either</span>
<span class="sd">            a unit quaternion (if its length is 4) or a direction cosine</span>
<span class="sd">            matrix (otherwise). If two positional arguments are provided, then</span>
<span class="sd">            the first positional argument is assumed to be the axis of</span>
<span class="sd">            rotation and the second argument is assumed to be the angle of</span>
<span class="sd">            rotation. If four positional arguments are given, the values are</span>
<span class="sd">            assumed to be the components of the unit quaternion.</span>
<span class="sd">        **kwargs</span>
<span class="sd">            The rotation can be defined using keyword arguments. The valid</span>
<span class="sd">            keyword arguments are:</span>

<span class="sd">            - &#39;dcm&#39;: A direction cosine matrix (3x3 array)</span>
<span class="sd">            - &#39;axis&#39;, &#39;angle&#39;: The euler axis (3 element vector) and angle of</span>
<span class="sd">              rotation (float)</span>
<span class="sd">            - &#39;standard_axis&#39;, &#39;angle&#39;: The principal axis of rotation</span>
<span class="sd">              (int, 1,2,3) and angle of rotation (float)</span>
<span class="sd">            - &#39;quaternion&#39;: A unit quaternion (4 element vector)</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">assert</span> <span class="p">(</span>
                <span class="nb">len</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
            <span class="p">),</span> <span class="s2">&quot;Only positional or keyword arguments accepted, not both&quot;</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">_input</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">_input</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>  <span class="c1"># Infer Quaternion</span>
                    <span class="n">_dcm</span> <span class="o">=</span> <span class="n">quaternion2direction_cosine_matrix</span><span class="p">(</span><span class="n">_input</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>  <span class="c1"># Infer DCM</span>
                    <span class="n">_dcm</span> <span class="o">=</span> <span class="n">_input</span>
            <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>  <span class="c1"># Euler Axis Angle</span>
                <span class="n">_dcm</span> <span class="o">=</span> <span class="n">euler_axis_angle2direction_cosine_matrix</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>  <span class="c1"># Quaternions</span>
                <span class="n">_dcm</span> <span class="o">=</span> <span class="n">quaternion2direction_cosine_matrix</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">args</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cannot handle </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span><span class="si">}</span><span class="s2"> positional arguments&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot;dcm&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
                <span class="k">assert</span> <span class="s2">&quot;axis&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;Duplicate rotation definitions&quot;</span>
                <span class="k">assert</span> <span class="s2">&quot;angle&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;Duplicate rotation definitions&quot;</span>
                <span class="k">assert</span> <span class="s2">&quot;quaternion&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;Duplicate rotation definitions&quot;</span>

                <span class="n">_dcm</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;dcm&quot;</span><span class="p">]</span>

            <span class="k">elif</span> <span class="s2">&quot;axis&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
                <span class="k">assert</span> <span class="s2">&quot;angle&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;No angle provided&quot;</span>
                <span class="k">assert</span> <span class="s2">&quot;dcm&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;Duplicate rotation definitions&quot;</span>
                <span class="k">assert</span> <span class="s2">&quot;quaternion&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;Duplicate rotation definitions&quot;</span>
                <span class="k">assert</span> <span class="s2">&quot;standard_axis&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;Duplicate rotation definitions&quot;</span>

                <span class="n">_dcm</span> <span class="o">=</span> <span class="n">euler_axis_angle2direction_cosine_matrix</span><span class="p">(</span>
                    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;axis&quot;</span><span class="p">],</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;angle&quot;</span><span class="p">]</span>
                <span class="p">)</span>

            <span class="k">elif</span> <span class="s2">&quot;standard_axis&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
                <span class="k">assert</span> <span class="s2">&quot;angle&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;No angle provided&quot;</span>
                <span class="k">assert</span> <span class="s2">&quot;dcm&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;Duplicate rotation definitions&quot;</span>
                <span class="k">assert</span> <span class="s2">&quot;quaternion&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;Duplicate rotation definitions&quot;</span>
                <span class="k">assert</span> <span class="s2">&quot;axis&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;Duplicate rotation definitions&quot;</span>

                <span class="n">_standard_axis</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="mi">1</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">((</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">),</span>
                    <span class="mi">2</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">((</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">),</span>
                    <span class="mi">3</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">((</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">),</span>
                <span class="p">}</span>

                <span class="k">assert</span> <span class="p">(</span>
                    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;standard_axis&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="n">_standard_axis</span>
                <span class="p">),</span> <span class="sa">f</span><span class="s1">&#39;Invalid standard axis </span><span class="si">{</span><span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;standard_axis&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span>

                <span class="n">_dcm</span> <span class="o">=</span> <span class="n">euler_axis_angle2direction_cosine_matrix</span><span class="p">(</span>
                    <span class="n">_standard_axis</span><span class="p">[</span><span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;standard_axis&quot;</span><span class="p">]],</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;angle&quot;</span><span class="p">]</span>
                <span class="p">)</span>

            <span class="k">elif</span> <span class="s2">&quot;quaternion&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
                <span class="k">assert</span> <span class="s2">&quot;dcm&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;Duplicate rotation definitions&quot;</span>
                <span class="k">assert</span> <span class="s2">&quot;axis&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;Duplicate rotation definitions&quot;</span>
                <span class="k">assert</span> <span class="s2">&quot;angle&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;Duplicate rotation definitions&quot;</span>

                <span class="n">_quaternion</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;quaternion&quot;</span><span class="p">])</span>
                <span class="n">_dcm</span> <span class="o">=</span> <span class="n">quaternion2direction_cosine_matrix</span><span class="p">(</span><span class="n">_quaternion</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_dcm</span><span class="p">(</span><span class="n">_dcm</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rotator</span> <span class="o">=</span> <span class="n">_Rotator</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">_dcm</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">))</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_check_dcm</span><span class="p">(</span><span class="n">dcm</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check to see if a Direction Cosine Matrix is valid.</span>

<span class="sd">        Specifically, this static method checks to ensure that the input</span>
<span class="sd">        direction cosine matrix is a 3x3 matrix that is both right-handed and</span>
<span class="sd">        orthonormal.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        dcm : np.ndarray</span>
<span class="sd">            The Direction Cosine Matrix of interest.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="n">np</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="n">dcm</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="s2">&quot;Direction Cosine Matrix must be 3x3&quot;</span>
        <span class="k">assert</span> <span class="n">np</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span>
            <span class="nb">abs</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">det</span><span class="p">(</span><span class="n">dcm</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">0</span>
        <span class="p">),</span> <span class="s2">&quot;Direction Cosine Matrix must be right-handed and orthonormal&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">rotate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vector</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Rotate a vector by this rotaion.</span>

<span class="sd">        !!! note &quot;Vector Objects&quot;</span>
<span class="sd">            gps_frames.vectors includes an object called Vector. This method</span>
<span class="sd">            takes a numpy array that represents a vector. This is deliberate</span>
<span class="sd">            because rotations are dependant on a frame and the Vector object</span>
<span class="sd">            requires a frame</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        vector : np.array</span>
<span class="sd">            The 3-element 1D numpy array representing a vector</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        np.array</span>
<span class="sd">            The vector rotated into the new frame</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rotator</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">vector</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h4 id="gps_frames.rotations.Rotation.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Construct a Rotation Object</p>
<div class="admonition note">
<p class="admonition-title">Types</p>
<p>Because this acts as an interface to a numba object (which is
strictly typed), it is recommended that all inputs contain only
floats. This should be corrected automatically, but success cannot
be guarenteed.</p>
</div>
<p>This constructor is able to take a various numbers of input arguments
to create a _Rotator object. These can either be positional or keyword
arguments. It is recommended to use the keyword arguments to avoid
ambiguity.</p>
<div class="admonition warning">
<p class="admonition-title">Duplicate Definitions</p>
<p>There can only be one definition of the rotation. If multiple
definitions are given, it will raise an error. This includes
having both positional and keyword arguments.</p>
</div>
<p>This constructor functions by taking the input arguments and
converting the rotation representation to a direction cosine matrix,
which is then used to instantiate a _Rotator object.</p>
<div class="admonition tip">
<p class="admonition-title">Quaternion Ordering</p>
<p>The order of the unit quaternion inputs are (<span class="arithmatex">\(q_{w}\)</span>, <span class="arithmatex">\(q_{i}\)</span>,
<span class="arithmatex">\(q_{j}\)</span>, <span class="arithmatex">\(q_{k}\)</span>) where</p>
<p><span class="arithmatex">\(\mathbf{q} = q_{w} + q_{i}i + q_{j}j + q_{k}k\)</span>.</p>
</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>*args</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If one positional argument is provided, it is assumed to be either
a unit quaternion (if its length is 4) or a direction cosine
matrix (otherwise). If two positional arguments are provided, then
the first positional argument is assumed to be the axis of
rotation and the second argument is assumed to be the angle of
rotation. If four positional arguments are given, the values are
assumed to be the components of the unit quaternion.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The rotation can be defined using keyword arguments. The valid
keyword arguments are:</p>
<ul>
<li>'dcm': A direction cosine matrix (3x3 array)</li>
<li>'axis', 'angle': The euler axis (3 element vector) and angle of
  rotation (float)</li>
<li>'standard_axis', 'angle': The principal axis of rotation
  (int, 1,2,3) and angle of rotation (float)</li>
<li>'quaternion': A unit quaternion (4 element vector)</li>
</ul>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>gps_frames/rotations.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Construct a Rotation Object</span>

<span class="sd">    !!! note &quot;Types&quot;</span>
<span class="sd">        Because this acts as an interface to a numba object (which is</span>
<span class="sd">        strictly typed), it is recommended that all inputs contain only</span>
<span class="sd">        floats. This should be corrected automatically, but success cannot</span>
<span class="sd">        be guarenteed.</span>

<span class="sd">    This constructor is able to take a various numbers of input arguments</span>
<span class="sd">    to create a _Rotator object. These can either be positional or keyword</span>
<span class="sd">    arguments. It is recommended to use the keyword arguments to avoid</span>
<span class="sd">    ambiguity.</span>

<span class="sd">    !!! warning &quot;Duplicate Definitions&quot;</span>
<span class="sd">        There can only be one definition of the rotation. If multiple</span>
<span class="sd">        definitions are given, it will raise an error. This includes</span>
<span class="sd">        having both positional and keyword arguments.</span>

<span class="sd">    This constructor functions by taking the input arguments and</span>
<span class="sd">    converting the rotation representation to a direction cosine matrix,</span>
<span class="sd">    which is then used to instantiate a _Rotator object.</span>

<span class="sd">    !!! tip &quot;Quaternion Ordering&quot;</span>
<span class="sd">        The order of the unit quaternion inputs are (\(q_{w}\), \(q_{i}\),</span>
<span class="sd">        \(q_{j}\), \(q_{k}\)) where</span>

<span class="sd">        \(\mathbf{q} = q_{w} + q_{i}i + q_{j}j + q_{k}k\).</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    *args</span>
<span class="sd">        If one positional argument is provided, it is assumed to be either</span>
<span class="sd">        a unit quaternion (if its length is 4) or a direction cosine</span>
<span class="sd">        matrix (otherwise). If two positional arguments are provided, then</span>
<span class="sd">        the first positional argument is assumed to be the axis of</span>
<span class="sd">        rotation and the second argument is assumed to be the angle of</span>
<span class="sd">        rotation. If four positional arguments are given, the values are</span>
<span class="sd">        assumed to be the components of the unit quaternion.</span>
<span class="sd">    **kwargs</span>
<span class="sd">        The rotation can be defined using keyword arguments. The valid</span>
<span class="sd">        keyword arguments are:</span>

<span class="sd">        - &#39;dcm&#39;: A direction cosine matrix (3x3 array)</span>
<span class="sd">        - &#39;axis&#39;, &#39;angle&#39;: The euler axis (3 element vector) and angle of</span>
<span class="sd">          rotation (float)</span>
<span class="sd">        - &#39;standard_axis&#39;, &#39;angle&#39;: The principal axis of rotation</span>
<span class="sd">          (int, 1,2,3) and angle of rotation (float)</span>
<span class="sd">        - &#39;quaternion&#39;: A unit quaternion (4 element vector)</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">assert</span> <span class="p">(</span>
            <span class="nb">len</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="p">),</span> <span class="s2">&quot;Only positional or keyword arguments accepted, not both&quot;</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">_input</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">_input</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>  <span class="c1"># Infer Quaternion</span>
                <span class="n">_dcm</span> <span class="o">=</span> <span class="n">quaternion2direction_cosine_matrix</span><span class="p">(</span><span class="n">_input</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>  <span class="c1"># Infer DCM</span>
                <span class="n">_dcm</span> <span class="o">=</span> <span class="n">_input</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>  <span class="c1"># Euler Axis Angle</span>
            <span class="n">_dcm</span> <span class="o">=</span> <span class="n">euler_axis_angle2direction_cosine_matrix</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>  <span class="c1"># Quaternions</span>
            <span class="n">_dcm</span> <span class="o">=</span> <span class="n">quaternion2direction_cosine_matrix</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">args</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cannot handle </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span><span class="si">}</span><span class="s2"> positional arguments&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="s2">&quot;dcm&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="k">assert</span> <span class="s2">&quot;axis&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;Duplicate rotation definitions&quot;</span>
            <span class="k">assert</span> <span class="s2">&quot;angle&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;Duplicate rotation definitions&quot;</span>
            <span class="k">assert</span> <span class="s2">&quot;quaternion&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;Duplicate rotation definitions&quot;</span>

            <span class="n">_dcm</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;dcm&quot;</span><span class="p">]</span>

        <span class="k">elif</span> <span class="s2">&quot;axis&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="k">assert</span> <span class="s2">&quot;angle&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;No angle provided&quot;</span>
            <span class="k">assert</span> <span class="s2">&quot;dcm&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;Duplicate rotation definitions&quot;</span>
            <span class="k">assert</span> <span class="s2">&quot;quaternion&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;Duplicate rotation definitions&quot;</span>
            <span class="k">assert</span> <span class="s2">&quot;standard_axis&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;Duplicate rotation definitions&quot;</span>

            <span class="n">_dcm</span> <span class="o">=</span> <span class="n">euler_axis_angle2direction_cosine_matrix</span><span class="p">(</span>
                <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;axis&quot;</span><span class="p">],</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;angle&quot;</span><span class="p">]</span>
            <span class="p">)</span>

        <span class="k">elif</span> <span class="s2">&quot;standard_axis&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="k">assert</span> <span class="s2">&quot;angle&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;No angle provided&quot;</span>
            <span class="k">assert</span> <span class="s2">&quot;dcm&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;Duplicate rotation definitions&quot;</span>
            <span class="k">assert</span> <span class="s2">&quot;quaternion&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;Duplicate rotation definitions&quot;</span>
            <span class="k">assert</span> <span class="s2">&quot;axis&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;Duplicate rotation definitions&quot;</span>

            <span class="n">_standard_axis</span> <span class="o">=</span> <span class="p">{</span>
                <span class="mi">1</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">((</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">),</span>
                <span class="mi">2</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">((</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">),</span>
                <span class="mi">3</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">((</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">),</span>
            <span class="p">}</span>

            <span class="k">assert</span> <span class="p">(</span>
                <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;standard_axis&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="n">_standard_axis</span>
            <span class="p">),</span> <span class="sa">f</span><span class="s1">&#39;Invalid standard axis </span><span class="si">{</span><span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;standard_axis&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span>

            <span class="n">_dcm</span> <span class="o">=</span> <span class="n">euler_axis_angle2direction_cosine_matrix</span><span class="p">(</span>
                <span class="n">_standard_axis</span><span class="p">[</span><span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;standard_axis&quot;</span><span class="p">]],</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;angle&quot;</span><span class="p">]</span>
            <span class="p">)</span>

        <span class="k">elif</span> <span class="s2">&quot;quaternion&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="k">assert</span> <span class="s2">&quot;dcm&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;Duplicate rotation definitions&quot;</span>
            <span class="k">assert</span> <span class="s2">&quot;axis&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;Duplicate rotation definitions&quot;</span>
            <span class="k">assert</span> <span class="s2">&quot;angle&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;Duplicate rotation definitions&quot;</span>

            <span class="n">_quaternion</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;quaternion&quot;</span><span class="p">])</span>
            <span class="n">_dcm</span> <span class="o">=</span> <span class="n">quaternion2direction_cosine_matrix</span><span class="p">(</span><span class="n">_quaternion</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_check_dcm</span><span class="p">(</span><span class="n">_dcm</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_rotator</span> <span class="o">=</span> <span class="n">_Rotator</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">_dcm</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="gps_frames.rotations.Rotation.rotate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">rotate</span><span class="p">(</span><span class="n">vector</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Rotate a vector by this rotaion.</p>
<div class="admonition note">
<p class="admonition-title">Vector Objects</p>
<p>gps_frames.vectors includes an object called Vector. This method
takes a numpy array that represents a vector. This is deliberate
because rotations are dependant on a frame and the Vector object
requires a frame</p>
</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>vector</code>
            </td>
            <td>
                  <code><span title="numpy.array">array</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The 3-element 1D numpy array representing a vector</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.array">array</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The vector rotated into the new frame</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>gps_frames/rotations.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">rotate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vector</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Rotate a vector by this rotaion.</span>

<span class="sd">    !!! note &quot;Vector Objects&quot;</span>
<span class="sd">        gps_frames.vectors includes an object called Vector. This method</span>
<span class="sd">        takes a numpy array that represents a vector. This is deliberate</span>
<span class="sd">        because rotations are dependant on a frame and the Vector object</span>
<span class="sd">        requires a frame</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    vector : np.array</span>
<span class="sd">        The 3-element 1D numpy array representing a vector</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    np.array</span>
<span class="sd">        The vector rotated into the new frame</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rotator</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">vector</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h3 id="gps_frames.rotations.direction_cosine_matrix2euler_axis_angle" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">direction_cosine_matrix2euler_axis_angle</span><span class="p">(</span><span class="n">dcm</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Convert a Direction Cosine Matrix to an Euler axis and angle.</p>
<p>This function simply calls direction_cosine_matrix2quaternion() to convert
the input DCM to the corresponding unit quaternion. From there, the
quaternion is converted to the corresponding Euler axis and angle using
quaternion2euler_axis_angle().</p>
<div class="admonition note">
<p class="admonition-title">Numba JIT Compiled</p>
<p>This function is compiled using Numba. Use care when providing inputs
as Numba is strictly typed. Unless otherwise stated, all inputs should
be float arrays.</p>
</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>dcm</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The direction cosine matrix</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Tuple">Tuple</span>[<span title="numpy.ndarray">ndarray</span>, <span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A tuple where the first element is a 3-element 1D numpy array
representing the rotation axis and the second element is the angle
of rotation, in radians.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>gps_frames/rotations.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@jit</span><span class="p">(</span><span class="s2">&quot;Tuple((float64[:], float64))(float64[:,:])&quot;</span><span class="p">,</span> <span class="n">nopython</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cache</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">direction_cosine_matrix2euler_axis_angle</span><span class="p">(</span>
    <span class="n">dcm</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a Direction Cosine Matrix to an Euler axis and angle.</span>

<span class="sd">    This function simply calls direction_cosine_matrix2quaternion() to convert</span>
<span class="sd">    the input DCM to the corresponding unit quaternion. From there, the</span>
<span class="sd">    quaternion is converted to the corresponding Euler axis and angle using</span>
<span class="sd">    quaternion2euler_axis_angle().</span>

<span class="sd">    !!! note &quot;Numba JIT Compiled&quot;</span>
<span class="sd">        This function is compiled using Numba. Use care when providing inputs</span>
<span class="sd">        as Numba is strictly typed. Unless otherwise stated, all inputs should</span>
<span class="sd">        be float arrays.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    dcm : np.ndarray</span>
<span class="sd">        The direction cosine matrix</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Tuple[np.ndarray, float]</span>
<span class="sd">        A tuple where the first element is a 3-element 1D numpy array</span>
<span class="sd">        representing the rotation axis and the second element is the angle</span>
<span class="sd">        of rotation, in radians.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">quaternion</span> <span class="o">=</span> <span class="n">direction_cosine_matrix2quaternion</span><span class="p">(</span><span class="n">dcm</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">quaternion2euler_axis_angle</span><span class="p">(</span><span class="n">quaternion</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="gps_frames.rotations.direction_cosine_matrix2quaternion" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">direction_cosine_matrix2quaternion</span><span class="p">(</span><span class="n">dcm</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a rotation object from a Direction Cosine Matrix.</p>
<p>Let the direction cosine matrix be <span class="arithmatex">\(\mathbf{R}\)</span>. The <span class="arithmatex">\(q_{w}\)</span>
element of the quaternion can be computed as</p>
<div class="arithmatex">\[
q_{w} = \frac{
        \sqrt{1 + \text{trace}\mathbf{R}}
    }{
        2
    }
\]</div>
<p>The remaining elements of the quaternion are then computed as</p>
<div class="arithmatex">\[
\begin{split}
    q_{i} = &amp; \frac{
        \mathbf{R}_{23} - \mathbf{R}_{32}}{4q_{w}} \\
    q_{j} = &amp; \frac{
        \mathbf{R}_{31} - \mathbf{R}_{13}}{4q_{w}} \\
    q_{k} = &amp; \frac{
        \mathbf{R}_{12} - \mathbf{R}_{21}}{4q_{w}} \\
\end{split}
\]</div>
<p>The quaternion is represented as</p>
<div class="arithmatex">\[
\bar{\mathbf{q}} = \left[
    q_{w} \quad q_{i} \quad q_{j} \quad q_{k}
\right]
\]</div>
<p>There a singulariy when the rotation is by an angle of <span class="arithmatex">\(\pi\)</span>.
This occurs because <span class="arithmatex">\(q_{w} = \cos\left(\theta / 2\right)\)</span>, so
<span class="arithmatex">\(q_{w}=0\)</span> when <span class="arithmatex">\(\theta=\pi\)</span>. In the previous expression, the other
quaternion elements were found by dividing the difference of various DCM
elements by <span class="arithmatex">\(4q_{w}\)</span>, which cannot be done of <span class="arithmatex">\(q_{w}=0\)</span>. Thus, for
these cases, an alternate approach is used. The angle of rotation is known
(because <span class="arithmatex">\(\cos(\pi/2) = \cos(-\pi/2) = 0\)</span> to be <span class="arithmatex">\(\pi\)</span>. The axis of
rotation is found by find the eigenvector to the DCM corresponding the
eigenvalue with a value of 1. This is done by calling
euler_axis_angle2quaternion().</p>
<div class="admonition note">
<p class="admonition-title">Numba JIT Compiled</p>
<p>This function is compiled using Numba. Use care when providing inputs
as Numba is strictly typed. Unless otherwise stated, all inputs should
be float arrays.</p>
</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>dcm</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The direction cosine matrix (a 3x3 matrix)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The corresponding unit quaternion</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>gps_frames/rotations.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@jit</span><span class="p">(</span><span class="s2">&quot;float64[:](float64[:,:])&quot;</span><span class="p">,</span> <span class="n">nopython</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cache</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">direction_cosine_matrix2quaternion</span><span class="p">(</span><span class="n">dcm</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">:</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Create a rotation object from a Direction Cosine Matrix.</span>

<span class="sd">    Let the direction cosine matrix be \(\mathbf{R}\). The \(q_{w}\)</span>
<span class="sd">    element of the quaternion can be computed as</span>

<span class="sd">    $$</span>
<span class="sd">    q_{w} = \frac{</span>
<span class="sd">            \sqrt{1 + \text{trace}\mathbf{R}}</span>
<span class="sd">        }{</span>
<span class="sd">            2</span>
<span class="sd">        }</span>
<span class="sd">    $$</span>

<span class="sd">    The remaining elements of the quaternion are then computed as</span>

<span class="sd">    $$</span>
<span class="sd">    \begin{split}</span>
<span class="sd">        q_{i} = &amp; \frac{</span>
<span class="sd">            \mathbf{R}_{23} - \mathbf{R}_{32}}{4q_{w}} \\</span>
<span class="sd">        q_{j} = &amp; \frac{</span>
<span class="sd">            \mathbf{R}_{31} - \mathbf{R}_{13}}{4q_{w}} \\</span>
<span class="sd">        q_{k} = &amp; \frac{</span>
<span class="sd">            \mathbf{R}_{12} - \mathbf{R}_{21}}{4q_{w}} \\</span>
<span class="sd">    \end{split}</span>
<span class="sd">    $$</span>

<span class="sd">    The quaternion is represented as</span>

<span class="sd">    $$</span>
<span class="sd">    \bar{\mathbf{q}} = \left[</span>
<span class="sd">        q_{w} \quad q_{i} \quad q_{j} \quad q_{k}</span>
<span class="sd">    \right]</span>
<span class="sd">    $$</span>

<span class="sd">    There a singulariy when the rotation is by an angle of \(\pi\).</span>
<span class="sd">    This occurs because \(q_{w} = \cos\left(\theta / 2\right)\), so</span>
<span class="sd">    \(q_{w}=0\) when \(\theta=\pi\). In the previous expression, the other</span>
<span class="sd">    quaternion elements were found by dividing the difference of various DCM</span>
<span class="sd">    elements by \(4q_{w}\), which cannot be done of \(q_{w}=0\). Thus, for</span>
<span class="sd">    these cases, an alternate approach is used. The angle of rotation is known</span>
<span class="sd">    (because \(\cos(\pi/2) = \cos(-\pi/2) = 0\) to be \(\pi\). The axis of</span>
<span class="sd">    rotation is found by find the eigenvector to the DCM corresponding the</span>
<span class="sd">    eigenvalue with a value of 1. This is done by calling</span>
<span class="sd">    euler_axis_angle2quaternion().</span>

<span class="sd">    !!! note &quot;Numba JIT Compiled&quot;</span>
<span class="sd">        This function is compiled using Numba. Use care when providing inputs</span>
<span class="sd">        as Numba is strictly typed. Unless otherwise stated, all inputs should</span>
<span class="sd">        be float arrays.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    dcm : np.ndarray</span>
<span class="sd">        The direction cosine matrix (a 3x3 matrix)</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    np.ndarray</span>
<span class="sd">        The corresponding unit quaternion</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">qw</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="n">dcm</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="k">if</span> <span class="n">qw</span> <span class="o">==</span> <span class="mf">0.0</span><span class="p">:</span>
        <span class="n">euler_angle</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span>

        <span class="n">eig_val</span><span class="p">,</span> <span class="n">eig_axis</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">eigh</span><span class="p">(</span><span class="n">dcm</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">eig_val</span><span class="p">[</span><span class="n">_i</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">euler_axis</span> <span class="o">=</span> <span class="n">eig_axis</span><span class="p">[:,</span> <span class="n">_i</span><span class="p">]</span>
                <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Encountered singular DCM&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">euler_axis_angle2quaternion</span><span class="p">(</span><span class="n">euler_axis</span><span class="p">,</span> <span class="n">euler_angle</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">qi</span> <span class="o">=</span> <span class="p">(</span><span class="n">dcm</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">dcm</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="p">(</span><span class="mi">4</span> <span class="o">*</span> <span class="n">qw</span><span class="p">)</span>
        <span class="n">qj</span> <span class="o">=</span> <span class="p">(</span><span class="n">dcm</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">dcm</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="p">(</span><span class="mi">4</span> <span class="o">*</span> <span class="n">qw</span><span class="p">)</span>
        <span class="n">qk</span> <span class="o">=</span> <span class="p">(</span><span class="n">dcm</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">dcm</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="p">(</span><span class="mi">4</span> <span class="o">*</span> <span class="n">qw</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">qw</span><span class="p">,</span> <span class="n">qi</span><span class="p">,</span> <span class="n">qj</span><span class="p">,</span> <span class="n">qk</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="gps_frames.rotations.euler_axis_angle2direction_cosine_matrix" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">euler_axis_angle2direction_cosine_matrix</span><span class="p">(</span><span class="n">euler_axis</span><span class="p">,</span> <span class="n">euler_angle</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Convert an Euler axis and angle to a Direction Cosine Matrix.</p>
<p>This function simply calls euler_axis_angle2quaternion() to convert
the input Euler axis and angle to the corresponding unit quaternion. From
there, the quaternion is converted to the corresponding DCM using
quaternion2direction_cosine_matrix().</p>
<div class="admonition note">
<p class="admonition-title">Numba JIT Compiled</p>
<p>This function is compiled using Numba. Use care when providing inputs
as Numba is strictly typed. Unless otherwise stated, all inputs should
be float arrays.</p>
</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>euler_axis</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The axis of rotation. Will be normalized to a magnitude of 1</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>euler_angle</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The angle of rotation in radians</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The direction cosine matrix (a 3x3 matrix)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>gps_frames/rotations.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@jit</span><span class="p">(</span><span class="s2">&quot;float64[:,:](float64[:], float64)&quot;</span><span class="p">,</span> <span class="n">nopython</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cache</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">euler_axis_angle2direction_cosine_matrix</span><span class="p">(</span>
    <span class="n">euler_axis</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">euler_angle</span><span class="p">:</span> <span class="nb">float</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert an Euler axis and angle to a Direction Cosine Matrix.</span>

<span class="sd">    This function simply calls euler_axis_angle2quaternion() to convert</span>
<span class="sd">    the input Euler axis and angle to the corresponding unit quaternion. From</span>
<span class="sd">    there, the quaternion is converted to the corresponding DCM using</span>
<span class="sd">    quaternion2direction_cosine_matrix().</span>


<span class="sd">    !!! note &quot;Numba JIT Compiled&quot;</span>
<span class="sd">        This function is compiled using Numba. Use care when providing inputs</span>
<span class="sd">        as Numba is strictly typed. Unless otherwise stated, all inputs should</span>
<span class="sd">        be float arrays.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    euler_axis : np.ndarray</span>
<span class="sd">        The axis of rotation. Will be normalized to a magnitude of 1</span>
<span class="sd">    euler_angle : float</span>
<span class="sd">        The angle of rotation in radians</span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    np.ndarray</span>
<span class="sd">        The direction cosine matrix (a 3x3 matrix)</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">quaternion2direction_cosine_matrix</span><span class="p">(</span>
        <span class="n">euler_axis_angle2quaternion</span><span class="p">(</span><span class="n">euler_axis</span><span class="p">,</span> <span class="n">euler_angle</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="gps_frames.rotations.euler_axis_angle2quaternion" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">euler_axis_angle2quaternion</span><span class="p">(</span><span class="n">euler_axis</span><span class="p">,</span> <span class="n">euler_angle</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Convert an Euler axis and angle to a quaternion.</p>
<p>Let the Euler axis and angle be <span class="arithmatex">\(\hat{\mathbf{e}}\)</span> and
<span class="arithmatex">\(\Phi\)</span>, respectively. The equivalent quaternion is</p>
<div class="arithmatex">\[
\bar{\mathbf{q}} =
    \left[\begin{array}{c}
        q_{w} \\
        q_{i} \\
        q_{j} \\
        q_{k}
    \end{array}\right]
    =
    \left[\begin{array}{c}
        \cos\frac{\Phi}{2} \\
        \hat{\mathbf{e}}\sin\frac{\Phi}{2}
    \end{array}\right]
\]</div>
<div class="admonition note">
<p class="admonition-title">Numba JIT Compiled</p>
<p>This function is compiled using Numba. Use care when providing inputs
as Numba is strictly typed. Unless otherwise stated, all inputs should
be float arrays.</p>
</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>euler_axis</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The axis of rotation. Will be normalized to a magnitude of 1</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>euler_angle</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The angle of rotation in radians</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The quaternion equivalent to the the euler axis and angle</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>gps_frames/rotations.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@jit</span><span class="p">(</span><span class="s2">&quot;float64[:](float64[:], float64)&quot;</span><span class="p">,</span> <span class="n">nopython</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cache</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">euler_axis_angle2quaternion</span><span class="p">(</span>
    <span class="n">euler_axis</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">euler_angle</span><span class="p">:</span> <span class="nb">float</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Convert an Euler axis and angle to a quaternion.</span>

<span class="sd">    Let the Euler axis and angle be \(\hat{\mathbf{e}}\) and</span>
<span class="sd">    \(\Phi\), respectively. The equivalent quaternion is</span>

<span class="sd">    $$</span>
<span class="sd">    \bar{\mathbf{q}} =</span>
<span class="sd">        \left[\begin{array}{c}</span>
<span class="sd">            q_{w} \\</span>
<span class="sd">            q_{i} \\</span>
<span class="sd">            q_{j} \\</span>
<span class="sd">            q_{k}</span>
<span class="sd">        \end{array}\right]</span>
<span class="sd">        =</span>
<span class="sd">        \left[\begin{array}{c}</span>
<span class="sd">            \cos\frac{\Phi}{2} \\</span>
<span class="sd">            \hat{\mathbf{e}}\sin\frac{\Phi}{2}</span>
<span class="sd">        \end{array}\right]</span>
<span class="sd">    $$</span>

<span class="sd">    !!! note &quot;Numba JIT Compiled&quot;</span>
<span class="sd">        This function is compiled using Numba. Use care when providing inputs</span>
<span class="sd">        as Numba is strictly typed. Unless otherwise stated, all inputs should</span>
<span class="sd">        be float arrays.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    euler_axis : np.ndarray</span>
<span class="sd">        The axis of rotation. Will be normalized to a magnitude of 1</span>
<span class="sd">    euler_angle : float</span>
<span class="sd">        The angle of rotation in radians</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    np.ndarray</span>
<span class="sd">        The quaternion equivalent to the the euler axis and angle</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">euler_axis</span> <span class="o">=</span> <span class="n">euler_axis</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">euler_axis</span><span class="p">)</span>  <span class="c1"># Normialize length</span>
    <span class="n">qijk</span> <span class="o">=</span> <span class="n">euler_axis</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">euler_angle</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">euler_axis</span><span class="p">)</span>
    <span class="n">quaternion</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">euler_angle</span> <span class="o">/</span> <span class="mi">2</span><span class="p">),</span> <span class="n">qijk</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">quaternion</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">quaternion</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="gps_frames.rotations.quaternion2direction_cosine_matrix" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">quaternion2direction_cosine_matrix</span><span class="p">(</span><span class="n">quaternion</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Convert quaternions to a direction cosine matrix.</p>
<p>A quaternions can be represented as</p>
<div class="arithmatex">\[
\bar{\mathbf{q}} = \left[
    q_{w} \quad q_{i} \quad q_{j} \quad q_{k}
\right]
\]</div>
<p>The equivalent direction cosine matrix can then be computed as</p>
<div class="arithmatex">\[
\mathbf{R} =
    \left[\begin{array}{ccc}
        q_{w}^{2} + q_{i}^{2} - q_{j}^{2} - q_{k}^{2} &amp;
        2 \left( q_{i}q_{j} - q_{k}q_{w} \right) &amp;
        2 \left( q_{i}q_{k} + q_{j}q_{w} \right) \\
        2 \left( q_{i}q_{j} + q_{k}q_{w} \right) &amp;
        q_{w}^{2} - q_{i}^{2} + q_{j}^{2} - q_{k}^{2} &amp;
        2 \left( q_{j}q_{k} - q_{i}q_{w} \right) \\
        2 \left( q_{i}q_{k} - q_{j}q_{w} \right) &amp;
        2 \left( q_{j}q_{k} + q_{i}q_{w} \right) &amp;
        q_{w}^{2} - q_{i}^{2} - q_{j}^{2} + q_{k}^{2}
    \end{array}\right]
\]</div>
<div class="admonition note">
<p class="admonition-title">Numba JIT Compiled</p>
<p>This function is compiled using Numba. Use care when providing inputs
as Numba is strictly typed. Unless otherwise stated, all inputs should
be float arrays.</p>
</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>quaternion</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The unit quaternion to convert</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The 3x3 Direction Cosine Matrix that represents the rotation</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>gps_frames/rotations.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@jit</span><span class="p">(</span><span class="s2">&quot;float64[:,:](float64[:])&quot;</span><span class="p">,</span> <span class="n">nopython</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cache</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">quaternion2direction_cosine_matrix</span><span class="p">(</span><span class="n">quaternion</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Convert quaternions to a direction cosine matrix.</span>

<span class="sd">    A quaternions can be represented as</span>

<span class="sd">    $$</span>
<span class="sd">    \bar{\mathbf{q}} = \left[</span>
<span class="sd">        q_{w} \quad q_{i} \quad q_{j} \quad q_{k}</span>
<span class="sd">    \right]</span>
<span class="sd">    $$</span>

<span class="sd">    The equivalent direction cosine matrix can then be computed as</span>

<span class="sd">    $$</span>
<span class="sd">    \mathbf{R} =</span>
<span class="sd">        \left[\begin{array}{ccc}</span>
<span class="sd">            q_{w}^{2} + q_{i}^{2} - q_{j}^{2} - q_{k}^{2} &amp;</span>
<span class="sd">            2 \left( q_{i}q_{j} - q_{k}q_{w} \right) &amp;</span>
<span class="sd">            2 \left( q_{i}q_{k} + q_{j}q_{w} \right) \\</span>
<span class="sd">            2 \left( q_{i}q_{j} + q_{k}q_{w} \right) &amp;</span>
<span class="sd">            q_{w}^{2} - q_{i}^{2} + q_{j}^{2} - q_{k}^{2} &amp;</span>
<span class="sd">            2 \left( q_{j}q_{k} - q_{i}q_{w} \right) \\</span>
<span class="sd">            2 \left( q_{i}q_{k} - q_{j}q_{w} \right) &amp;</span>
<span class="sd">            2 \left( q_{j}q_{k} + q_{i}q_{w} \right) &amp;</span>
<span class="sd">            q_{w}^{2} - q_{i}^{2} - q_{j}^{2} + q_{k}^{2}</span>
<span class="sd">        \end{array}\right]</span>
<span class="sd">    $$</span>


<span class="sd">    !!! note &quot;Numba JIT Compiled&quot;</span>
<span class="sd">        This function is compiled using Numba. Use care when providing inputs</span>
<span class="sd">        as Numba is strictly typed. Unless otherwise stated, all inputs should</span>
<span class="sd">        be float arrays.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    quaternion : np.ndarray</span>
<span class="sd">        The unit quaternion to convert</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    np.ndarray</span>
<span class="sd">        The 3x3 Direction Cosine Matrix that represents the rotation</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">quaternion</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;Quaternions must have 4 elements&quot;</span>

    <span class="c1"># Normalize</span>
    <span class="n">quaternion</span> <span class="o">=</span> <span class="n">quaternion</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">quaternion</span><span class="p">)</span>

    <span class="n">qw</span> <span class="o">=</span> <span class="n">quaternion</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">qi</span> <span class="o">=</span> <span class="n">quaternion</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">qj</span> <span class="o">=</span> <span class="n">quaternion</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">qk</span> <span class="o">=</span> <span class="n">quaternion</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>

    <span class="n">dcm</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="p">[</span>
                <span class="n">qw</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">qi</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">-</span> <span class="n">qj</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">-</span> <span class="n">qk</span> <span class="o">**</span> <span class="mi">2</span><span class="p">,</span>
                <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">qi</span> <span class="o">*</span> <span class="n">qj</span> <span class="o">-</span> <span class="n">qk</span> <span class="o">*</span> <span class="n">qw</span><span class="p">),</span>
                <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">qi</span> <span class="o">*</span> <span class="n">qk</span> <span class="o">+</span> <span class="n">qj</span> <span class="o">*</span> <span class="n">qw</span><span class="p">),</span>
            <span class="p">],</span>
            <span class="p">[</span>
                <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">qi</span> <span class="o">*</span> <span class="n">qj</span> <span class="o">+</span> <span class="n">qk</span> <span class="o">*</span> <span class="n">qw</span><span class="p">),</span>
                <span class="n">qw</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">-</span> <span class="n">qi</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">qj</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">-</span> <span class="n">qk</span> <span class="o">**</span> <span class="mi">2</span><span class="p">,</span>
                <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">qj</span> <span class="o">*</span> <span class="n">qk</span> <span class="o">-</span> <span class="n">qi</span> <span class="o">*</span> <span class="n">qw</span><span class="p">),</span>
            <span class="p">],</span>
            <span class="p">[</span>
                <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">qi</span> <span class="o">*</span> <span class="n">qk</span> <span class="o">-</span> <span class="n">qj</span> <span class="o">*</span> <span class="n">qw</span><span class="p">),</span>
                <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">qj</span> <span class="o">*</span> <span class="n">qk</span> <span class="o">+</span> <span class="n">qi</span> <span class="o">*</span> <span class="n">qw</span><span class="p">),</span>
                <span class="n">qw</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">-</span> <span class="n">qi</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">-</span> <span class="n">qj</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">qk</span> <span class="o">**</span> <span class="mi">2</span><span class="p">,</span>
            <span class="p">],</span>
        <span class="p">]</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">dcm</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="gps_frames.rotations.quaternion2euler_axis_angle" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">quaternion2euler_axis_angle</span><span class="p">(</span><span class="n">quaternion</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Convert a quaternion to an euler axis and angle.</p>
<div class="admonition warning">
<p class="admonition-title">Directional Ambiguity</p>
<p>There is directional ambitguity when using this function. This occurs
because rotating by an angle about a given axis is equivalent to
rotating by the same angle in the opposite direction about the
opposite axis. There is no way to resolve this ambitguity, but it
should not effect anything in the simulation.</p>
</div>
<p>A quaternions can be represented as</p>
<div class="arithmatex">\[
\bar{\mathbf{q}} = \left[
    q_{w} \quad q_{i} \quad q_{j} \quad q_{k}
\right]
\]</div>
<p>with <span class="arithmatex">\(\mathbf{q}=[q_{i}, q_{j}, q_{k}]^{T}\)</span>. The angle of
rotation that this represents can be computed (using a 4-quadrant
arctangent function) as</p>
<div class="arithmatex">\[
\Phi = 2 \tan^{-1}\frac{
    ||\mathbf{q}||
}{
    q_{w}
}
\]</div>
<p>The axis of the rotation is then computed as</p>
<div class="arithmatex">\[
\hat{\mathbf{e}} = \frac{
        \mathbf{q}
    }{
        ||\mathbf{q}||
    }
\]</div>
<div class="admonition note">
<p class="admonition-title">Numba JIT Compiled</p>
<p>This function is compiled using Numba. Use care when providing inputs
as Numba is strictly typed. Unless otherwise stated, all inputs should
be float arrays.</p>
</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>quaternion</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The unit quaternion to convert</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Tuple">Tuple</span>[<span title="numpy.ndarray">ndarray</span>, <span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A tuple where the first element is a 3-element 1D numpy array
representing the rotation axis and the second element is the angle
of rotation, in radians.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>gps_frames/rotations.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@jit</span><span class="p">(</span><span class="s2">&quot;Tuple((float64[:], float64))(float64[:])&quot;</span><span class="p">,</span> <span class="n">nopython</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cache</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">quaternion2euler_axis_angle</span><span class="p">(</span><span class="n">quaternion</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Convert a quaternion to an euler axis and angle.</span>

<span class="sd">    !!! warning &quot;Directional Ambiguity&quot;</span>
<span class="sd">        There is directional ambitguity when using this function. This occurs</span>
<span class="sd">        because rotating by an angle about a given axis is equivalent to</span>
<span class="sd">        rotating by the same angle in the opposite direction about the</span>
<span class="sd">        opposite axis. There is no way to resolve this ambitguity, but it</span>
<span class="sd">        should not effect anything in the simulation.</span>

<span class="sd">    A quaternions can be represented as</span>

<span class="sd">    $$</span>
<span class="sd">    \bar{\mathbf{q}} = \left[</span>
<span class="sd">        q_{w} \quad q_{i} \quad q_{j} \quad q_{k}</span>
<span class="sd">    \right]</span>
<span class="sd">    $$</span>

<span class="sd">    with \(\mathbf{q}=[q_{i}, q_{j}, q_{k}]^{T}\). The angle of</span>
<span class="sd">    rotation that this represents can be computed (using a 4-quadrant</span>
<span class="sd">    arctangent function) as</span>

<span class="sd">    $$</span>
<span class="sd">    \Phi = 2 \tan^{-1}\frac{</span>
<span class="sd">        ||\mathbf{q}||</span>
<span class="sd">    }{</span>
<span class="sd">        q_{w}</span>
<span class="sd">    }</span>
<span class="sd">    $$</span>

<span class="sd">    The axis of the rotation is then computed as</span>

<span class="sd">    $$</span>
<span class="sd">    \hat{\mathbf{e}} = \frac{</span>
<span class="sd">            \mathbf{q}</span>
<span class="sd">        }{</span>
<span class="sd">            ||\mathbf{q}||</span>
<span class="sd">        }</span>
<span class="sd">    $$</span>

<span class="sd">    !!! note &quot;Numba JIT Compiled&quot;</span>
<span class="sd">        This function is compiled using Numba. Use care when providing inputs</span>
<span class="sd">        as Numba is strictly typed. Unless otherwise stated, all inputs should</span>
<span class="sd">        be float arrays.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    quaternion : np.ndarray</span>
<span class="sd">        The unit quaternion to convert</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Tuple[np.ndarray, float]</span>
<span class="sd">        A tuple where the first element is a 3-element 1D numpy array</span>
<span class="sd">        representing the rotation axis and the second element is the angle</span>
<span class="sd">        of rotation, in radians.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">qw</span> <span class="o">=</span> <span class="n">quaternion</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">qijk</span> <span class="o">=</span> <span class="n">quaternion</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>

    <span class="n">euler_angle</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">qijk</span><span class="p">),</span> <span class="n">qw</span><span class="p">)</span>
    <span class="n">euler_axis</span> <span class="o">=</span> <span class="n">qijk</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">qijk</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">euler_axis</span><span class="p">,</span> <span class="n">euler_angle</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="gps_frames.rotations.roll_pitch_yaw" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">roll_pitch_yaw</span><span class="p">(</span><span class="n">roll_angle</span><span class="p">,</span> <span class="n">pitch_angle</span><span class="p">,</span> <span class="n">yaw_angle</span><span class="p">,</span> <span class="n">vector</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Rotate a vector through a roll-pitch-yaw sequence.</p>
<p>This function is an optimized way to rotate a vector through a
roll-ptich-yaw sequence. This sequence is a rotation about the 1, 2, and 3
axes in that order, that is first it it rolled, then pitched, then yawed.</p>
<p>For a single rotation, this class is faster to use than the Rotation class
as it is signficantly simpler to instantiate. However, if a rotation needs
to be performed repeatedly, the Rotation class may be faster.</p>
<p>.. note:: Numba JIT Compiled
    This function is compiled using Numba. Use care when providing inputs
    as Numba is strictly typed. The inputs to this function are three
    floats and a float array.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>roll_angle</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Angle of rotation about the roll axis in radians</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pitch_angle</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Angle of rotation about the pitch axis in radians</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>yaw_angle</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Angle of rotation about the yaw axis in radians</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>vector</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The vector to rotate</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The vector rotated to the new frame</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>gps_frames/rotations.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@jit</span><span class="p">(</span><span class="s2">&quot;float64[:](float64, float64, float64, float64[:])&quot;</span><span class="p">,</span> <span class="n">nopython</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cache</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">roll_pitch_yaw</span><span class="p">(</span>
    <span class="n">roll_angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">pitch_angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">yaw_angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">vector</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Rotate a vector through a roll-pitch-yaw sequence.</span>

<span class="sd">    This function is an optimized way to rotate a vector through a</span>
<span class="sd">    roll-ptich-yaw sequence. This sequence is a rotation about the 1, 2, and 3</span>
<span class="sd">    axes in that order, that is first it it rolled, then pitched, then yawed.</span>

<span class="sd">    For a single rotation, this class is faster to use than the Rotation class</span>
<span class="sd">    as it is signficantly simpler to instantiate. However, if a rotation needs</span>
<span class="sd">    to be performed repeatedly, the Rotation class may be faster.</span>

<span class="sd">    .. note:: Numba JIT Compiled</span>
<span class="sd">        This function is compiled using Numba. Use care when providing inputs</span>
<span class="sd">        as Numba is strictly typed. The inputs to this function are three</span>
<span class="sd">        floats and a float array.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    roll_angle : float</span>
<span class="sd">        Angle of rotation about the roll axis in radians</span>
<span class="sd">    pitch_angle : float</span>
<span class="sd">        Angle of rotation about the pitch axis in radians</span>
<span class="sd">    yaw_angle : float</span>
<span class="sd">        Angle of rotation about the yaw axis in radians</span>
<span class="sd">    vector : np.ndarray</span>
<span class="sd">        The vector to rotate</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    np.ndarray</span>
<span class="sd">        The vector rotated to the new frame</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">roll_pitch_yaw_matrix</span><span class="p">(</span><span class="n">roll_angle</span><span class="p">,</span> <span class="n">pitch_angle</span><span class="p">,</span> <span class="n">yaw_angle</span><span class="p">)</span> <span class="o">@</span> <span class="n">vector</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="gps_frames.rotations.roll_pitch_yaw_matrix" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">roll_pitch_yaw_matrix</span><span class="p">(</span><span class="n">roll_angle</span><span class="p">,</span> <span class="n">pitch_angle</span><span class="p">,</span> <span class="n">yaw_angle</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create the Direction Cosine Matrix fo a roll-pitch-yaw sequence.</p>
<p>This function is a way to generate the direction cosine matrix
representing a roll-pitch-yaw sequence. This sequence is a rotation about
the 1, 2, and 3 axes in that order, that is first it it rolled, then
pitched, then yawed.</p>
<p>Let <span class="arithmatex">\(\theta,\phi,\psi\)</span> be the roll, pitch, and yaw angles, respectively.
The corresponding direction cosine matrix is</p>
<div class="arithmatex">\[
    \mathbf{R}(\theta,\phi,\psi) =
        \left[\begin{array}{ccc}
            \cos\psi \cos\phi &amp;
            \cos\psi \sin\phi \sin\theta - \sin\psi \cos\theta &amp;
            \cos\psi \sin\phi \cos\theta + \sin\psi \sin\theta \\
            \sin\psi \cos\phi &amp;
            \sin\psi \sin\phi \sin\theta + \cos\psi \cos\theta &amp;
            \sin\psi \sin\phi \cos\theta - \cos\psi \sin\theta \\
            -\sin\phi &amp;
            \cos\phi \sin\theta &amp;
            \cos\phi \cos\theta
        \end{array}\right]
\]</div>
<p>.. note:: Numba JIT Compiled
    This function is compiled using Numba. Use care when providing inputs
    as Numba is strictly typed. The inputs to this function are three
    floats and a float array.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>roll_angle</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Angle of rotation about the roll axis in radians</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pitch_angle</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Angle of rotation about the pitch axis in radians</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>yaw_angle</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Angle of rotation about the yaw axis in radians</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The direction cosine matrix representing the rotation.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>gps_frames/rotations.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@jit</span><span class="p">(</span><span class="s2">&quot;float64[:, :](float64, float64, float64)&quot;</span><span class="p">,</span> <span class="n">nopython</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cache</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">roll_pitch_yaw_matrix</span><span class="p">(</span>
    <span class="n">roll_angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">pitch_angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">yaw_angle</span><span class="p">:</span> <span class="nb">float</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Create the Direction Cosine Matrix fo a roll-pitch-yaw sequence.</span>

<span class="sd">    This function is a way to generate the direction cosine matrix</span>
<span class="sd">    representing a roll-pitch-yaw sequence. This sequence is a rotation about</span>
<span class="sd">    the 1, 2, and 3 axes in that order, that is first it it rolled, then</span>
<span class="sd">    pitched, then yawed.</span>

<span class="sd">    Let \(\theta,\phi,\psi\) be the roll, pitch, and yaw angles, respectively.</span>
<span class="sd">    The corresponding direction cosine matrix is</span>

<span class="sd">    $$</span>
<span class="sd">        \mathbf{R}(\theta,\phi,\psi) =</span>
<span class="sd">            \left[\begin{array}{ccc}</span>
<span class="sd">                \cos\psi \cos\phi &amp;</span>
<span class="sd">                \cos\psi \sin\phi \sin\theta - \sin\psi \cos\theta &amp;</span>
<span class="sd">                \cos\psi \sin\phi \cos\theta + \sin\psi \sin\theta \\</span>
<span class="sd">                \sin\psi \cos\phi &amp;</span>
<span class="sd">                \sin\psi \sin\phi \sin\theta + \cos\psi \cos\theta &amp;</span>
<span class="sd">                \sin\psi \sin\phi \cos\theta - \cos\psi \sin\theta \\</span>
<span class="sd">                -\sin\phi &amp;</span>
<span class="sd">                \cos\phi \sin\theta &amp;</span>
<span class="sd">                \cos\phi \cos\theta</span>
<span class="sd">            \end{array}\right]</span>
<span class="sd">    $$</span>

<span class="sd">    .. note:: Numba JIT Compiled</span>
<span class="sd">        This function is compiled using Numba. Use care when providing inputs</span>
<span class="sd">        as Numba is strictly typed. The inputs to this function are three</span>
<span class="sd">        floats and a float array.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    roll_angle : float</span>
<span class="sd">        Angle of rotation about the roll axis in radians</span>
<span class="sd">    pitch_angle : float</span>
<span class="sd">        Angle of rotation about the pitch axis in radians</span>
<span class="sd">    yaw_angle : float</span>
<span class="sd">        Angle of rotation about the yaw axis in radians</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    np.ndarray</span>
<span class="sd">        The direction cosine matrix representing the rotation.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">pitch_angle</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">1.0e-8</span> <span class="ow">or</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">pitch_angle</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">1.0e-8</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">objmode</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Singular rotation (gimbal lock) detected in roll_pitch_yaw_matrix&quot;</span><span class="p">)</span>

    <span class="n">_c_roll</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">roll_angle</span><span class="p">)</span>
    <span class="n">_s_roll</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">roll_angle</span><span class="p">)</span>

    <span class="n">_c_pitch</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">pitch_angle</span><span class="p">)</span>
    <span class="n">_s_pitch</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">pitch_angle</span><span class="p">)</span>

    <span class="n">_c_yaw</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">yaw_angle</span><span class="p">)</span>
    <span class="n">_s_yaw</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">yaw_angle</span><span class="p">)</span>

    <span class="n">dcm</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="p">[</span>
                <span class="n">_c_yaw</span> <span class="o">*</span> <span class="n">_c_pitch</span><span class="p">,</span>
                <span class="n">_c_yaw</span> <span class="o">*</span> <span class="n">_s_pitch</span> <span class="o">*</span> <span class="n">_s_roll</span> <span class="o">-</span> <span class="n">_s_yaw</span> <span class="o">*</span> <span class="n">_c_roll</span><span class="p">,</span>
                <span class="n">_c_yaw</span> <span class="o">*</span> <span class="n">_s_pitch</span> <span class="o">*</span> <span class="n">_c_roll</span> <span class="o">+</span> <span class="n">_s_yaw</span> <span class="o">*</span> <span class="n">_s_roll</span><span class="p">,</span>
            <span class="p">],</span>
            <span class="p">[</span>
                <span class="n">_s_yaw</span> <span class="o">*</span> <span class="n">_c_pitch</span><span class="p">,</span>
                <span class="n">_s_yaw</span> <span class="o">*</span> <span class="n">_s_pitch</span> <span class="o">*</span> <span class="n">_s_roll</span> <span class="o">+</span> <span class="n">_c_yaw</span> <span class="o">*</span> <span class="n">_c_roll</span><span class="p">,</span>
                <span class="n">_s_yaw</span> <span class="o">*</span> <span class="n">_s_pitch</span> <span class="o">*</span> <span class="n">_c_roll</span> <span class="o">-</span> <span class="n">_c_yaw</span> <span class="o">*</span> <span class="n">_s_roll</span><span class="p">,</span>
            <span class="p">],</span>
            <span class="p">[</span><span class="o">-</span><span class="n">_s_pitch</span><span class="p">,</span> <span class="n">_c_pitch</span> <span class="o">*</span> <span class="n">_s_roll</span><span class="p">,</span> <span class="n">_c_pitch</span> <span class="o">*</span> <span class="n">_c_roll</span><span class="p">],</span>
        <span class="p">]</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">dcm</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="gps_frames.rotations.standard_rotation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">standard_rotation</span><span class="p">(</span><span class="n">rotation_axis</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="n">vector</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Rotate a vector about a principal axis.</p>
<p>This function is an optimized way to rotate about one of the principal
axes. The inputs are the axis to rotate around and the angle of rotation,
along with the vector be rotated.</p>
<p>For a single rotation, this class is faster to use than the Rotation class
as it is signficantly simpler to instantiate. However, if a rotation needs
to be performed repeatedly, the Rotation class may be faster.</p>
<div class="admonition note">
<p class="admonition-title">Numba JIT Compiled</p>
<p>This function is compiled using Numba. Use care when providing inputs
as Numba is strictly typed. The inputs to this function are an int, a
float, and a float array.</p>
</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>rotation_axis</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The axis of rotation. Must be 1, 2, or 3 (corresponding to x,y, and x)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>angle</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The angle of rotation in radians</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>vector</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The vector to rotate</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The vector rotated to the new frame</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>gps_frames/rotations.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@jit</span><span class="p">(</span><span class="s2">&quot;float64[:](int8, float64, float64[:])&quot;</span><span class="p">,</span> <span class="n">nopython</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cache</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">standard_rotation</span><span class="p">(</span>
    <span class="n">rotation_axis</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">vector</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Rotate a vector about a principal axis.</span>

<span class="sd">    This function is an optimized way to rotate about one of the principal</span>
<span class="sd">    axes. The inputs are the axis to rotate around and the angle of rotation,</span>
<span class="sd">    along with the vector be rotated.</span>

<span class="sd">    For a single rotation, this class is faster to use than the Rotation class</span>
<span class="sd">    as it is signficantly simpler to instantiate. However, if a rotation needs</span>
<span class="sd">    to be performed repeatedly, the Rotation class may be faster.</span>

<span class="sd">    !!! note &quot;Numba JIT Compiled&quot;</span>
<span class="sd">        This function is compiled using Numba. Use care when providing inputs</span>
<span class="sd">        as Numba is strictly typed. The inputs to this function are an int, a</span>
<span class="sd">        float, and a float array.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    rotation_axis : int</span>
<span class="sd">        The axis of rotation. Must be 1, 2, or 3 (corresponding to x,y, and x)</span>
<span class="sd">    angle : float</span>
<span class="sd">        The angle of rotation in radians</span>
<span class="sd">    vector : np.ndarray</span>
<span class="sd">        The vector to rotate</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    np.ndarray</span>
<span class="sd">        The vector rotated to the new frame</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
    <span class="n">_s</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>

    <span class="k">assert</span> <span class="n">rotation_axis</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;rotation_axis must be 1, 2, or 3&quot;</span>
    <span class="k">if</span> <span class="n">rotation_axis</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">dcm</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">_c</span><span class="p">,</span> <span class="n">_s</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="n">_s</span><span class="p">,</span> <span class="n">_c</span><span class="p">]])</span>
    <span class="k">elif</span> <span class="n">rotation_axis</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">dcm</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="n">_c</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="n">_s</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="n">_s</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">_c</span><span class="p">]])</span>
    <span class="k">elif</span> <span class="n">rotation_axis</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">dcm</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="n">_c</span><span class="p">,</span> <span class="n">_s</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="n">_s</span><span class="p">,</span> <span class="n">_c</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]])</span>

    <span class="k">return</span> <span class="n">dcm</span> <span class="o">@</span> <span class="n">vector</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="gps_frames.rotations.standard_rotation_matrix" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">standard_rotation_matrix</span><span class="p">(</span><span class="n">rotation_axis</span><span class="p">,</span> <span class="n">angle</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get a standard rotation matrix.</p>
<p>This function is used to compute the rotation matrix (direction cosine
matrix) for a rotation about one of the principle axes.</p>
<p>That is, if the angle of rotation is <span class="arithmatex">\(\theta\)</span>, the returned rotation
matrix is</p>
<div class="arithmatex">\[
\begin{split}
    R_{1}(\theta) = &amp;
        \left[\begin{array}{ccc}
            1 &amp; 0 &amp; 0 \\
            0 &amp; \cos\theta &amp; \sin\theta \\
            0 &amp; -\sin\theta &amp; \cos\theta
        \end{array}\right] \\
    R_{2}(\theta) = &amp;
        \left[\begin{array}{ccc}
            \cos\theta &amp; 0 &amp; -\sin\theta \\
            0 &amp; 1 &amp; 0 \\
            \sin\theta &amp; 0 &amp; \cos\theta
        \end{array}\right] \\
    R_{3}(\theta) = &amp;
        \left[\begin{array}{ccc}
            \cos\theta &amp; \sin\theta &amp; 0 \\
            -\sin\theta &amp; \cos\theta &amp; 0 \\
            0 &amp; 0 &amp; 1
        \end{array}\right]
\end{split}
\]</div>
<p>respectively for rotations about the 1, 2, or 3 axis.</p>
<p>To simply the actual code, this is actually accomplished by expressing the
rotation as a rotation about an Euler axis and simply converting to a
direction cosine matrix using euler_axis_angle2direction_cosion_matrix().</p>
<div class="admonition note">
<p class="admonition-title">Numba JIT Compiled</p>
<p>This function is compiled using Numba. Use care when providing inputs
as Numba is strictly typed. The inputs to this function are an int and
a float.</p>
</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>rotation_axis</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The axis of rotation</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>angle</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The angle of rotation in radians</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The rotation matrix (DCM) for the axis and angle of rotation</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the rotation axis is not 1, 2, or 3</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>gps_frames/rotations.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@jit</span><span class="p">(</span><span class="s2">&quot;float64[:,:](int8, float64)&quot;</span><span class="p">,</span> <span class="n">nopython</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cache</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">standard_rotation_matrix</span><span class="p">(</span><span class="n">rotation_axis</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Get a standard rotation matrix.</span>

<span class="sd">    This function is used to compute the rotation matrix (direction cosine</span>
<span class="sd">    matrix) for a rotation about one of the principle axes.</span>

<span class="sd">    That is, if the angle of rotation is \(\theta\), the returned rotation</span>
<span class="sd">    matrix is</span>

<span class="sd">    $$</span>
<span class="sd">    \begin{split}</span>
<span class="sd">        R_{1}(\theta) = &amp;</span>
<span class="sd">            \left[\begin{array}{ccc}</span>
<span class="sd">                1 &amp; 0 &amp; 0 \\</span>
<span class="sd">                0 &amp; \cos\theta &amp; \sin\theta \\</span>
<span class="sd">                0 &amp; -\sin\theta &amp; \cos\theta</span>
<span class="sd">            \end{array}\right] \\</span>
<span class="sd">        R_{2}(\theta) = &amp;</span>
<span class="sd">            \left[\begin{array}{ccc}</span>
<span class="sd">                \cos\theta &amp; 0 &amp; -\sin\theta \\</span>
<span class="sd">                0 &amp; 1 &amp; 0 \\</span>
<span class="sd">                \sin\theta &amp; 0 &amp; \cos\theta</span>
<span class="sd">            \end{array}\right] \\</span>
<span class="sd">        R_{3}(\theta) = &amp;</span>
<span class="sd">            \left[\begin{array}{ccc}</span>
<span class="sd">                \cos\theta &amp; \sin\theta &amp; 0 \\</span>
<span class="sd">                -\sin\theta &amp; \cos\theta &amp; 0 \\</span>
<span class="sd">                0 &amp; 0 &amp; 1</span>
<span class="sd">            \end{array}\right]</span>
<span class="sd">    \end{split}</span>
<span class="sd">    $$</span>

<span class="sd">    respectively for rotations about the 1, 2, or 3 axis.</span>

<span class="sd">    To simply the actual code, this is actually accomplished by expressing the</span>
<span class="sd">    rotation as a rotation about an Euler axis and simply converting to a</span>
<span class="sd">    direction cosine matrix using euler_axis_angle2direction_cosion_matrix().</span>

<span class="sd">    !!! note &quot;Numba JIT Compiled&quot;</span>
<span class="sd">        This function is compiled using Numba. Use care when providing inputs</span>
<span class="sd">        as Numba is strictly typed. The inputs to this function are an int and</span>
<span class="sd">        a float.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    rotation_axis : int</span>
<span class="sd">        The axis of rotation</span>
<span class="sd">    angle : float</span>
<span class="sd">        The angle of rotation in radians</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    np.ndarray</span>
<span class="sd">        The rotation matrix (DCM) for the axis and angle of rotation</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    ValueError</span>
<span class="sd">        If the rotation axis is not 1, 2, or 3</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">assert</span> <span class="n">rotation_axis</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;rotation_axis must be 1, 2, or 3&quot;</span>
    <span class="n">euler_axis</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">euler_axis</span><span class="p">[</span><span class="n">rotation_axis</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>

    <span class="k">return</span> <span class="n">euler_axis_angle2direction_cosine_matrix</span><span class="p">(</span><span class="n">euler_axis</span><span class="p">,</span> <span class="n">angle</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="gps_frames.rotations.standard_rotation_matrix_rates" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">standard_rotation_matrix_rates</span><span class="p">(</span><span class="n">rotation_axis</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="n">rate</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the derivated of a standard rotation matrix.</p>
<p>This function is used to compute the derivative of a rotation matrix
(direction cosine matrix) for a rotation about one of the principle axes.</p>
<p>That is, if the angle of rotation is <span class="arithmatex">\(\theta\)</span>, the returned matrix is
[
\begin{split}
    R_{1}(\theta) = &amp;
        \left[\begin{array}{ccc}
            0 &amp; 0 &amp; 0 \
            0 &amp;
            -\dot{\theta}\sin\theta &amp;
            \dot{\theta}\cos\theta \
            0 &amp;
            -\dot{\theta}\cos\theta &amp;
            -\dot{\theta}\sin\theta
        \end{array}\right] \
    R_{2}(\theta) = &amp;
        \left[\begin{array}{ccc}
            -\dot{\theta}\sin\theta &amp;
            0 &amp;
            -\dot{\theta}\cos\theta\
            0 &amp;
            0 &amp;
            0 \
            \dot{\theta}\cos\theta &amp;
            0 &amp;
            -\dot{\theta}\sin\theta
        \end{array}\right] \
    R_{3}(\theta) = &amp;
        \left[\begin{array}{ccc}
            -\dot{\theta}\sin\theta
            &amp; \dot{\theta}\cos\theta &amp;
            0 \
            -\dot{\theta}\cos\theta &amp;
            -\dot{\theta}\sin\theta &amp;
            0 \
            0 &amp; 0 &amp; 0
        \end{array}\right]
\end{split}
]
respectively for rotations about the 1, 2, or 3 axis.</p>
<div class="admonition note">
<p class="admonition-title">Numba JIT Compiled</p>
<p>This function is compiled using Numba. Use care when providing inputs
as Numba is strictly typed. The inputs to this function are an int and
two floats.</p>
</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>rotation_axis</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The axis of rotation</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>angle</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The angle of rotation in radians</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>rate</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The angular rotation rate in radians per second</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The rate of change of the rotation matrix (DCM) for the axis, angle,
and rate of rotation</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the rotation axis is not 1, 2, or 3</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>gps_frames/rotations.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@jit</span><span class="p">(</span><span class="s2">&quot;float64[:,:](int8, float64, float64)&quot;</span><span class="p">,</span> <span class="n">nopython</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cache</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">standard_rotation_matrix_rates</span><span class="p">(</span>
    <span class="n">rotation_axis</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">rate</span><span class="p">:</span> <span class="nb">float</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Get the derivated of a standard rotation matrix.</span>

<span class="sd">    This function is used to compute the derivative of a rotation matrix</span>
<span class="sd">    (direction cosine matrix) for a rotation about one of the principle axes.</span>

<span class="sd">    That is, if the angle of rotation is \(\theta\), the returned matrix is</span>
<span class="sd">    \[</span>
<span class="sd">    \begin{split}</span>
<span class="sd">        R_{1}(\theta) = &amp;</span>
<span class="sd">            \left[\begin{array}{ccc}</span>
<span class="sd">                0 &amp; 0 &amp; 0 \\</span>
<span class="sd">                0 &amp;</span>
<span class="sd">                -\dot{\theta}\sin\theta &amp;</span>
<span class="sd">                \dot{\theta}\cos\theta \\</span>
<span class="sd">                0 &amp;</span>
<span class="sd">                -\dot{\theta}\cos\theta &amp;</span>
<span class="sd">                -\dot{\theta}\sin\theta</span>
<span class="sd">            \end{array}\right] \\</span>
<span class="sd">        R_{2}(\theta) = &amp;</span>
<span class="sd">            \left[\begin{array}{ccc}</span>
<span class="sd">                -\dot{\theta}\sin\theta &amp;</span>
<span class="sd">                0 &amp;</span>
<span class="sd">                -\dot{\theta}\cos\theta\\</span>
<span class="sd">                0 &amp;</span>
<span class="sd">                0 &amp;</span>
<span class="sd">                0 \\</span>
<span class="sd">                \dot{\theta}\cos\theta &amp;</span>
<span class="sd">                0 &amp;</span>
<span class="sd">                -\dot{\theta}\sin\theta</span>
<span class="sd">            \end{array}\right] \\</span>
<span class="sd">        R_{3}(\theta) = &amp;</span>
<span class="sd">            \left[\begin{array}{ccc}</span>
<span class="sd">                -\dot{\theta}\sin\theta</span>
<span class="sd">                &amp; \dot{\theta}\cos\theta &amp;</span>
<span class="sd">                0 \\</span>
<span class="sd">                -\dot{\theta}\cos\theta &amp;</span>
<span class="sd">                -\dot{\theta}\sin\theta &amp;</span>
<span class="sd">                0 \\</span>
<span class="sd">                0 &amp; 0 &amp; 0</span>
<span class="sd">            \end{array}\right]</span>
<span class="sd">    \end{split}</span>
<span class="sd">    \]</span>
<span class="sd">    respectively for rotations about the 1, 2, or 3 axis.</span>

<span class="sd">    !!! note &quot;Numba JIT Compiled&quot;</span>
<span class="sd">        This function is compiled using Numba. Use care when providing inputs</span>
<span class="sd">        as Numba is strictly typed. The inputs to this function are an int and</span>
<span class="sd">        two floats.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    rotation_axis : int</span>
<span class="sd">        The axis of rotation</span>
<span class="sd">    angle : float</span>
<span class="sd">        The angle of rotation in radians</span>
<span class="sd">    rate : float</span>
<span class="sd">        The angular rotation rate in radians per second</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    np.ndarray</span>
<span class="sd">        The rate of change of the rotation matrix (DCM) for the axis, angle,</span>
<span class="sd">        and rate of rotation</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    ValueError</span>
<span class="sd">        If the rotation axis is not 1, 2, or 3</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">rotation_axis</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
            <span class="p">[[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="n">s</span> <span class="o">*</span> <span class="n">rate</span><span class="p">,</span> <span class="n">c</span> <span class="o">*</span> <span class="n">rate</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="n">c</span> <span class="o">*</span> <span class="n">rate</span><span class="p">,</span> <span class="o">-</span><span class="n">s</span> <span class="o">*</span> <span class="n">rate</span><span class="p">]]</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="n">rotation_axis</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
            <span class="p">[[</span><span class="o">-</span><span class="n">s</span> <span class="o">*</span> <span class="n">rate</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="n">c</span> <span class="o">*</span> <span class="n">rate</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="n">c</span> <span class="o">*</span> <span class="n">rate</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="n">s</span> <span class="o">*</span> <span class="n">rate</span><span class="p">]]</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="n">rotation_axis</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
            <span class="p">[[</span><span class="o">-</span><span class="n">s</span> <span class="o">*</span> <span class="n">rate</span><span class="p">,</span> <span class="n">c</span> <span class="o">*</span> <span class="n">rate</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="n">c</span> <span class="o">*</span> <span class="n">rate</span><span class="p">,</span> <span class="o">-</span><span class="n">s</span> <span class="o">*</span> <span class="n">rate</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]]</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;rotation_axis must be 1, 2, or 3&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.sections", "navigation.indexes"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>